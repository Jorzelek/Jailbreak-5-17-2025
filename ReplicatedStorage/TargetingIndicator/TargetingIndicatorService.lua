-- Saved by UniversalSynSaveInstance (Join to Copy Games) https://discord.gg/wx4ThpAsmw

-- Bytecode (Base64):
-- BgNeCUNoYXJhY3RlcgtQcmltYXJ5UGFydAhQb3NpdGlvbgtHZXRDaGlsZHJlbglUZWFtVmFsdWUFVmFsdWUEVGVhbQhQcmlzb25lcgxIYXNIYW5kY3VmZnMMR2V0QXR0cmlidXRlCU1hZ25pdHVkZRBnZXRDbG9zZXN0UGxheWVyA29iaghnZXRPd25lcgZVc2VySWQHRGVzdHJveQVUYXNlcgxpc1BvaW50SW5UYWcGTm9UYXNlDXRhcmdldGluZ01haWQJSGFuZGN1ZmZzCE5vQXJyZXN0ClVwcGVyVG9yc28ORmluZEZpcnN0Q2hpbGQISHVtYW5vaWQJSGlwSGVpZ2h0BFNpemUBWQdWZWN0b3IzA25ldwhUYXJnZXRlcgpBdHRhY2htZW50DUF0dGFjaG1lbnRFbmQNV29ybGRQb3NpdGlvbgJvcwVjbG9jawZDRnJhbWUGQW5nbGVzBG1hdGgDY29zA21pbgVEZWNhbAxUcmFuc3BhcmVuY3kGUGxheWVyCEl0ZW1OYW1lBE1haWQKTG9va1ZlY3RvcgRVbml0A0RvdA1SYXljYXN0UGFyYW1zGkZpbHRlckRlc2NlbmRhbnRzSW5zdGFuY2VzCmNvbGxpZGFibGUISW5zdGFuY2UOSXNEZXNjZW5kYW50T2YJVGFzZXJCZWFtClRhc2VyRmxhc2gNSGFuZGN1ZmZzQmVhbQ5IYW5kY3VmZnNGbGFzaAVlcnJvcgxVbmtub3duIGl0ZW0IR2l2ZVRhc2sFQ2xvbmUKQ2FuQ29sbGlkZQhDYW5RdWVyeQl3b3Jrc3BhY2UGUGFyZW50CUhlYXJ0YmVhdAdDb25uZWN0B2dldE5hbWUFUmFuZ2UOQXJyZXN0RGlzdGFuY2UZb25JbnZlbnRvcnlJdGVtVW5lcXVpcHBlZBdvbkludmVudG9yeUl0ZW1FcXVpcHBlZARpbml0BGdhbWURUmVwbGljYXRlZFN0b3JhZ2UKR2V0U2VydmljZQdyZXF1aXJlElRhcmdldGluZ0luZGljYXRvchhUYXJnZXRpbmdJbmRpY2F0b3JDb25zdHMTSW52ZW50b3J5SXRlbVN5c3RlbQlJbnZlbnRvcnkSSW52ZW50b3J5SXRlbVV0aWxzB1BsYXllcnMKUnVuU2VydmljZQNTdGQHUmF5Y2FzdAhTZXR0aW5ncwhS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

-- Decompiled by Krnl

local v1 = game:GetService("ReplicatedStorage")
require(v1.TargetingIndicator.TargetingIndicatorConsts)
local v_u_2 = require(v1.Inventory.InventoryItemSystem)
local v_u_3 = require(v1.Inventory.InventoryItemUtils)
local v_u_4 = game:GetService("Players")
local v_u_5 = game:GetService("RunService")
local v_u_6 = require(v1.Std.Maid)
local v_u_7 = require(v1.Std.Raycast)
local v_u_8 = require(v1.Resource.Settings)
local v_u_9 = require(v1.Tag.TagUtils)
local v_u_10 = v1.Resource:FindFirstChild("TargetingIndicators")
local v_u_11 = require(v1.Game.ItemConfig.Taser)
local v_u_12 = require(v1.Game.ItemConfig.Handcuffs)
local v_u_13 = {}
return {
	["init"] = function()
		-- upvalues: (copy) v_u_4, (copy) v_u_8, (copy) v_u_2, (copy) v_u_3, (copy) v_u_13, (copy) v_u_11, (copy) v_u_12, (copy) v_u_6, (copy) v_u_5, (copy) v_u_7, (copy) v_u_10, (copy) v_u_9
		local v_u_14 = {}
		local function v_u_22(p15)
			-- upvalues: (ref) v_u_4, (ref) v_u_8
			if p15 then
				if p15.Character then
					if p15.Character.PrimaryPart then
						local v16 = p15.Character.PrimaryPart.Position
						local v17 = nil
						local v18 = nil
						for _, v19 in v_u_4:GetChildren() do
							if v19 ~= p15 then
								local v20 = v19.Character
								if v20 and (v20.PrimaryPart ~= nil and (v19.TeamValue.Value == v_u_8.Team.Prisoner and not v20:GetAttribute("HasHandcuffs"))) then
									local v21 = (v16 - v20.PrimaryPart.Position).Magnitude
									if not v17 or v21 < v17 then
										v18 = v19
										v17 = v21
									end
								end
							end
						end
						return v18, v17
					end
				end
			else
				return
			end
		end
		v_u_2.onInventoryItemUnequipped:Connect(function(p23)
			-- upvalues: (ref) v_u_3, (ref) v_u_13
			local v24 = p23.obj
			local v25 = v_u_3.getOwner(v24)
			if not v25 then
				return false
			end
			local v26 = v_u_13[v25.UserId]
			if v26 then
				v26:Destroy()
			end
			return true
		end)
		v_u_2.onInventoryItemEquipped:Connect(function(p27)
			-- upvalues: (ref) v_u_3, (ref) v_u_11, (ref) v_u_12, (ref) v_u_13, (ref) v_u_6, (ref) v_u_5, (copy) v_u_22, (copy) v_u_14, (ref) v_u_7, (ref) v_u_10, (ref) v_u_9
			local v28 = p27.obj
			local v_u_29 = v_u_3.getName(v28)
			local v_u_30
			if v_u_29 == "Taser" then
				v_u_30 = v_u_11.Range
			else
				if v_u_29 ~= "Handcuffs" then
					return
				end
				v_u_30 = v_u_12.ArrestDistance
			end
			local v_u_31 = v_u_3.getOwner(v28)
			if v_u_31 then
				local v32 = v_u_13[v_u_31.UserId]
				if v32 then
					v32:Destroy()
				end
				local v_u_33 = v_u_6.new()
				v_u_13[v_u_31.UserId] = v_u_33
				v_u_33:GiveTask(v_u_5.Heartbeat:Connect(function()
					-- upvalues: (ref) v_u_22, (copy) v_u_31, (ref) v_u_14, (ref) v_u_30, (ref) v_u_33, (copy) v_u_29, (ref) v_u_7, (ref) v_u_6, (ref) v_u_10, (ref) v_u_5, (ref) v_u_9
					local v_u_34, v35 = v_u_22(v_u_31)
					local v36 = v_u_14[v_u_31.UserId] or {}
					v_u_14[v_u_31.UserId] = v36
					local v37 = v36.Player
					local v38 = v36.ItemName
					local _ = v36.Maid
					if v_u_34 and v_u_30 >= v35 then
						if v_u_29 == "Taser" then
							local v39 = v_u_31.Character.PrimaryPart.CFrame.LookVector
							local v40 = v_u_31.Character.PrimaryPart.Position
							local v41 = (v_u_34.Character.PrimaryPart.Position - v40).Unit
							if v39:Dot(v41) < 0.9 then
								v_u_33.targetingMaid = nil
								return
							end
							local v42 = RaycastParams.new()
							v42.FilterDescendantsInstances = { v_u_31.Character }
							local v43 = v_u_7.collidable(v40, v41, v_u_30, v42)
							if not (v43 and v43.Instance:IsDescendantOf(v_u_34.Character)) then
								v_u_33.targetingMaid = nil
								return
							end
						end
						if v_u_34 and (v35 <= v_u_30 and (v37 ~= v_u_34 or v38 ~= v_u_29)) then
							local v44 = v_u_6.new()
							v_u_33.targetingMaid = v44
							local v45 = nil
							local v46 = nil
							if v_u_29 == "Taser" then
								v45 = v_u_10:FindFirstChild("TaserBeam")
								v46 = v_u_10:FindFirstChild("TaserFlash")
							elseif v_u_29 == "Handcuffs" then
								v45 = v_u_10:FindFirstChild("HandcuffsBeam")
								v46 = v_u_10:FindFirstChild("HandcuffsFlash")
							else
								error("Unknown item")
							end
							local v47 = {
								["Player"] = v_u_34,
								["ItemName"] = v_u_29,
								["Maid"] = v44
							}
							v_u_14[v_u_31.UserId] = v47
							v44:GiveTask(function()
								-- upvalues: (ref) v_u_14, (ref) v_u_31
								v_u_14[v_u_31.UserId] = nil
							end)
							local v_u_48 = v45:Clone()
							v_u_48:FindFirstChild("Targeter").CanCollide = false
							v_u_48:FindFirstChild("Targeter").CanQuery = false
							local v_u_49 = v46:Clone()
							v_u_49.CanCollide = false
							v_u_49.CanQuery = false
							v_u_48.Parent = workspace
							v_u_49.Parent = workspace
							v44:GiveTask(v_u_48)
							v44:GiveTask(v_u_49)
							local v_u_50 = os.clock()
							v44:GiveTask(v_u_5.Heartbeat:Connect(function()
								-- upvalues: (copy) v_u_34, (ref) v_u_31, (ref) v_u_29, (ref) v_u_9, (ref) v_u_33, (ref) v_u_48, (ref) v_u_49, (copy) v_u_50
								local v51 = v_u_34.Character
								local v52 = v_u_31.Character
								if v51 and v52 then
									if v_u_29 == "Taser" then
										if v_u_9.isPointInTag(v52.PrimaryPart.Position, "NoTase") then
											v_u_33.targetingMaid = nil
											return
										end
									elseif v_u_29 == "Handcuffs" and v_u_9.isPointInTag(v52.PrimaryPart.Position, "NoArrest") then
										v_u_33.targetingMaid = nil
										return
									end
									local v53 = v51:FindFirstChild("UpperTorso")
									local v54 = v52:FindFirstChild("UpperTorso")
									if v53 and v54 then
										local v55 = v51.PrimaryPart.Position
										local v56 = v51.Humanoid.HipHeight + v51.PrimaryPart.Size.Y / 2
										local v57 = v55 - Vector3.new(0, v56, 0)
										local v58 = v_u_48:FindFirstChild("Targeter")
										local v59 = v58:FindFirstChild("Attachment")
										local v60 = v58:FindFirstChild("AttachmentEnd")
										v59.WorldPosition = v54.Position
										v60.WorldPosition = v53.Position
										local v61 = 6.283185307179586 * (os.clock() % 2) / 2
										v_u_49.CFrame = CFrame.new(v57) * CFrame.Angles(0, v61, 0)
										local v62 = os.clock() - v_u_50
										local v63 = 1 - (math.cos(v62) + 1) / 2
										local v64 = math.min(0.9, v63)
										v_u_49.Decal.Transparency = v64
									end
								else
									return
								end
							end))
						end
					else
						v_u_33.targetingMaid = nil
					end
				end))
			end
		end)
	end
}
