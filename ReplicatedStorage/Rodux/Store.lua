-- Saved by UniversalSynSaveInstance (Join to Copy Games) https://discord.gg/wx4ThpAsmw

-- Bytecode (Base64):
-- BgNCBWVycm9yBnN0cmluZwZmb3JtYXQWUmVjZWl2ZWQgZXJyb3I6ICVzCgolcwdtZXNzYWdlC3Rocm93blZhbHVlEnJlcG9ydFJlZHVjZXJFcnJvchFyZXBvcnRVcGRhdGVFcnJvcgVkZWJ1Zwl0cmFjZWJhY2sIdG9zdHJpbmcRdHJhY2ViYWNrUmVwb3J0ZXIGX3N0YXRlBWZsdXNoBnR5cGVvZghmdW5jdGlvbjBCYWQgYXJndW1lbnQgIzEgdG8gU3RvcmUubmV3LCBleHBlY3RlZCBmdW5jdGlvbi4GYXNzZXJ0BXRhYmxlNEJhZCBhcmd1bWVudCAjMyB0byBTdG9yZS5uZXcsIGV4cGVjdGVkIG5pbCBvciB0YWJsZS48RXhwZWN0ZWQgdGhlIG1pZGRsZXdhcmUgKCclcycpIGF0IGluZGV4ICVkIHRvIGJlIGEgZnVuY3Rpb24uDl9lcnJvclJlcG9ydGVyDl9pc0Rpc3BhdGNoaW5nCF9yZWR1Y2VyBHR5cGUGQEBJTklUCl9hY3Rpb25Mb2cGeHBjYWxsIUNhdWdodCBlcnJvciBpbiByZWR1Y2VyIHdpdGggaW5pdApfbGFzdFN0YXRlEl9tdXRhdGVkU2luY2VGbHVzaAxfY29ubmVjdGlvbnMDbmV3B2NoYW5nZWQMc2V0bWV0YXRhYmxlC19mbHVzaEV2ZW50B0Nvbm5lY3QGaW5zZXJ0CGRpc3BhdGNoQllvdSBtYXkgbm90IGNhbGwgc3RvcmU6Z2V0U3RhdGUoKSB3aGlsZSB0aGUgcmVkdWNlciBpcyBleGVjdXRpbmcuIEBUaGUgcmVkdWNlciAoJXMpIGhhcyBhbHJlYWR5IHJlY2VpdmVkIHRoZSBzdGF0ZSBhcyBhbiBhcmd1bWVudC4gR1Bhc3MgaXQgZG93biBmcm9tIHRoZSB0b3AgcmVkdWNlciBpbnN0ZWFkIG9mIHJlYWRpbmcgaXQgZnJvbSB0aGUgc3RvcmUuCGdldFN0YXRlGEFjdGlvbnMgbXVzdCBiZSB0YWJsZXMuICVVc2UgY3VzdG9tIG1pZGRsZXdhcmUgZm9yICVxIGFjdGlvbnMuM0FjdGlvbnMgbWF5IG5vdCBoYXZlIGFuIHVuZGVmaW5lZCAndHlwZScgcHJvcGVydHkuICFIYXZlIHlvdSBtaXNz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

-- Decompiled by Krnl

local v1 = game:GetService("RunService")
local v_u_2 = require(script.Parent.Signal)
local v_u_3 = require(script.Parent.NoYield)
local v_u_6 = {
	["reportReducerError"] = function(_, _, p4)
		error(string.format("Received error: %s\n\n%s", p4.message, p4.thrownValue))
	end,
	["reportUpdateError"] = function(_, _, _, p5)
		error(string.format("Received error: %s\n\n%s", p5.message, p5.thrownValue))
	end
}
local function v_u_8(p7)
	return debug.traceback((tostring(p7)))
end
local v_u_9 = {
	["_flushEvent"] = v1.Heartbeat
}
v_u_9.__index = v_u_9
function v_u_9.new(p_u_10, p_u_11, p12, p13)
	-- upvalues: (copy) v_u_6, (copy) v_u_8, (copy) v_u_2, (copy) v_u_9
	local v14 = typeof(p_u_10) == "function"
	assert(v14, "Bad argument #1 to Store.new, expected function.")
	local v15 = p12 == nil and true or typeof(p12) == "table"
	assert(v15, "Bad argument #3 to Store.new, expected nil or table.")
	if p12 ~= nil then
		for v16 = 1, #p12 do
			local v17 = p12[v16]
			local v18 = typeof(v17) == "function"
			local v19 = p12[v16]
			local v20 = tostring(v19)
			assert(v18, ("Expected the middleware (\'%s\') at index %d to be a function."):format(v20, v16))
		end
	end
	local v_u_21 = {
		["_errorReporter"] = p13 or v_u_6,
		["_isDispatching"] = false,
		["_reducer"] = p_u_10
	}
	local v_u_22 = {
		["type"] = "@@INIT"
	}
	v_u_21._actionLog = { v_u_22 }
	local v23, v24 = xpcall(function()
		-- upvalues: (copy) v_u_21, (copy) p_u_10, (copy) p_u_11, (copy) v_u_22
		v_u_21._state = p_u_10(p_u_11, v_u_22)
	end, v_u_8)
	if not v23 then
		v_u_21._errorReporter.reportReducerError(p_u_11, v_u_22, {
			["message"] = "Caught error in reducer with init",
			["thrownValue"] = v24
		})
		v_u_21._state = p_u_11
	end
	v_u_21._lastState = v_u_21._state
	v_u_21._mutatedSinceFlush = false
	v_u_21._connections = {}
	v_u_21.changed = v_u_2.new(v_u_21)
	local v25 = v_u_9
	setmetatable(v_u_21, v25)
	local v26 = v_u_21._flushEvent:Connect(function()
		-- upvalues: (copy) v_u_21
		v_u_21:flush()
	end)
	local v27 = v_u_21._connections
	table.insert(v27, v26)
	if p12 then
		local v_u_28 = v_u_21.dispatch
		local function v_u_29(...)
			-- upvalues: (copy) v_u_28, (copy) v_u_21
			return v_u_28(v_u_21, ...)
		end
		for v30 = #p12, 1, -1 do
			v_u_29 = p12[v30](v_u_29, v_u_21)
		end
		function v_u_21.dispatch(_, ...)
			-- upvalues: (ref) v_u_29
			return v_u_29(...)
		end
	end
	return v_u_21
end
function v_u_9.getState(p31)
	if p31._isDispatching then
		local v32 = error
		local v33 = p31._reducer
		v32(("You may not call store:getState() while the reducer is executing. The reducer (%s) has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store."):format((tostring(v33))))
	end
	return p31._state
end
function v_u_9.dispatch(p_u_34, p_u_35)
	if typeof(p_u_35) ~= "table" then
		error(("Actions must be tables. Use custom middleware for %q actions."):format((typeof(p_u_35))), 2)
	end
	if p_u_35.type == nil then
		error("Actions may not have an undefined \'type\' property. " .. "Have you misspelled a constant? \n" .. tostring(p_u_35), 2)
	end
	if p_u_34._isDispatching then
		error("Reducers may not dispatch actions.")
	end
	local v36, v37 = pcall(function()
		-- upvalues: (copy) p_u_34, (copy) p_u_35
		p_u_34._isDispatching = true
		p_u_34._state = p_u_34._reducer(p_u_34._state, p_u_35)
		p_u_34._mutatedSinceFlush = true
	end)
	p_u_34._isDispatching = false
	if not v36 then
		p_u_34._errorReporter.reportReducerError(p_u_34._state, p_u_35, {
			["message"] = "Caught error in reducer",
			["thrownValue"] = v37
		})
	end
	if #p_u_34._actionLog == 3 then
		table.remove(p_u_34._actionLog, 1)
	end
	local v38 = p_u_34._actionLog
	table.insert(v38, p_u_35)
end
function v_u_9.destruct(p39)
	for _, v40 in ipairs(p39._connections) do
		v40:Disconnect()
	end
	p39._connections = nil
end
function v_u_9.flush(p_u_41)
	-- upvalues: (copy) v_u_3, (copy) v_u_8
	if p_u_41._mutatedSinceFlush then
		p_u_41._mutatedSinceFlush = false
		local v_u_42 = p_u_41._state
		local v43, v44 = xpcall(function()
			-- upvalues: (ref) v_u_3, (copy) p_u_41, (copy) v_u_42
			v_u_3(function()
				-- upvalues: (ref) p_u_41, (ref) v_u_42
				p_u_41.changed:fire(v_u_42, p_u_41._lastState)
			end)
		end, v_u_8)
		if not v43 then
			p_u_41._errorReporter.reportUpdateError(p_u_41._lastState, v_u_42, p_u_41._actionLog, {
				["message"] = "Caught error flushing store updates",
				["thrownValue"] = v44
			})
		end
		p_u_41._lastState = v_u_42
	end
end
return v_u_9
