-- Saved by UniversalSynSaveInstance (Join to Copy Games) https://discord.gg/wx4ThpAsmw

-- Bytecode (Base64):
-- BgNHDHdhaXRGb3JDaGlsZAVUb3VjaBdnZXRBbmNlc3RvclBhcnRIdW1hbm9pZAZQYXJlbnQLTG9jYWxQbGF5ZXIJQ2hhcmFjdGVyB0dldExpbWIERW51bQRMaW1iB1Vua25vd24Cb3MFY2xvY2sJX2ZsYXNoaW5nD0xhc2VyVHJhcERhbWFnZQxHZXRBdHRyaWJ1dGUXbWlzc2luZyBMYXNlclRyYXBEYW1hZ2UGYXNzZXJ0ClRha2VEYW1hZ2UPcmVwbGljYXRlUmVtb3RlCkZpcmVTZXJ2ZXIIX2ZsaWNrZXIHVG91Y2hlZAdDb25uZWN0CEdpdmVUYXNrEXByb21pc2VJbm5lck1vZGVsB2FuZFRoZW4LR2l2ZVByb21pc2UMYnV0dG9uc01vZGVsD29ic2VydmVDaGlsZHJlbgNuZXcMc2V0bWV0YXRhYmxlBG1haWQUb2JzZXJ2ZU9uZUNoaWxkTmFtZWQHQnV0dG9ucw1PbkNsaWVudEV2ZW50A29iagZMYXNlcnMORmluZEZpcnN0Q2hpbGQVbm8gbGFzZXJzTW9kZWwgZXhpc3RzC0dldENoaWxkcmVuCENhblRvdWNoDFRyYW5zcGFyZW5jeRBfc2V0UGFydHNWaXNpYmxlBUNvbG9yDWdldElubmVyTW9kZWwGQ29sb3IzF19zZXRUb3VjaFBhcnRzVHJpZ2dlcmVkC09iamVjdExvY2FsCVNvdW5kUGFydAZWb2x1bWUJSGVhcnRiZWF0BFdhaXQEdGFzawR3YWl0BGdhbWUKUnVuU2VydmljZQpHZXRTZXJ2aWNlB1BsYXllcnMRUmVwbGljYXRlZFN0b3JhZ2UHcmVxdWlyZQNTdGQFQXVkaW8KQmFzZU9iamVjdA5NYW5pZmVzdEJpbmRlcg9SeEluc3RhbmNlVXRpbHMFRG9vcjIJRG9vclV0aWxzDkNoYXJhY3RlclV0aWxzB19faW5kZXgJTGFzZXJUcmFwD1JlcGxpY2F0ZVJlbW90ZQAMBAEBAAAAB/sCAABNAQLzAAAAAFICAABvAwEAnwEDAIIBAAACAwEDAgAbAAEYAAAAAAAAABwAAAAACAEGAAAAQvsCAABNAQJZAAAAAFICAACfAQICKwEBAIIAAQBNAgEkAQAAAPsFAQBNBAUxAgAAAE0DBGkDAAAA8QICAAMAAACCAAEA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

-- Decompiled by Krnl

local v_u_1 = game:GetService("RunService")
local v_u_2 = game:GetService("Players")
local v3 = game:GetService("ReplicatedStorage")
local v_u_4 = require(v3.Std.Audio)
local v_u_5 = require(v3.Std.BaseObject)
local v6 = require(v3.ManifestBinder)
local v_u_7 = require(v3.Std.RxInstanceUtils)
local v_u_8 = require(v3.Door2.DoorUtils)
local v_u_9 = require(v3.Std.CharacterUtils)
local v_u_10 = {}
v_u_10.__index = v_u_10
setmetatable(v_u_10, v_u_5)
function v_u_10.new(p_u_11, p_u_12)
	-- upvalues: (copy) v_u_5, (copy) v_u_10, (copy) v_u_7, (copy) v_u_8, (copy) v_u_9, (copy) v_u_2
	local v_u_13 = v_u_5.new(p_u_11)
	local v14 = v_u_10
	setmetatable(v_u_13, v14)
	v_u_13._flashing = false
	v_u_13.buttonsModel = nil
	v_u_13.maid:GiveTask(v_u_7.observeOneChildNamed(p_u_11, "Buttons", function(p15, p16)
		-- upvalues: (copy) v_u_13, (ref) v_u_7, (ref) v_u_8, (ref) v_u_9, (ref) v_u_2, (copy) p_u_11, (copy) p_u_12
		v_u_13.buttonsModel = p15
		p16:GiveTask(v_u_7.observeChildren(p15, function(p17, p_u_18)
			-- upvalues: (ref) v_u_8, (ref) v_u_7, (ref) v_u_9, (ref) v_u_2, (ref) v_u_13, (ref) p_u_11, (ref) p_u_12
			p_u_18:GivePromise(v_u_8.promiseInnerModel(p17):andThen(function(p19)
				-- upvalues: (ref) v_u_7
				return v_u_7.waitForChild(p19, "Touch")
			end):andThen(function(p20)
				-- upvalues: (copy) p_u_18, (ref) v_u_9, (ref) v_u_2, (ref) v_u_13, (ref) p_u_11, (ref) p_u_12
				local v_u_21 = os.clock()
				p_u_18:GiveTask(p20.Touched:Connect(function(p22)
					-- upvalues: (ref) v_u_9, (ref) v_u_2, (ref) v_u_21, (ref) v_u_13, (ref) p_u_11, (ref) p_u_12
					local v23 = v_u_9.getAncestorPartHumanoid(p22)
					if v23 then
						if v23.Parent == v_u_2.LocalPlayer.Character then
							if v23:GetLimb(p22) == Enum.Limb.Unknown then
								return
							else
								local v24 = os.clock()
								if v24 - v_u_21 >= 1 then
									if not v_u_13._flashing then
										v_u_21 = v24
										local v25 = p_u_11:GetAttribute("LaserTrapDamage")
										v23:TakeDamage((assert(v25, "missing LaserTrapDamage")))
										p_u_12.replicateRemote:FireServer()
										v_u_13:_flicker()
									end
								end
							end
						else
							return
						end
					else
						return
					end
				end))
			end))
		end))
	end))
	v_u_13.maid:GiveTask(p_u_12.replicateRemote.OnClientEvent:Connect(function()
		-- upvalues: (copy) v_u_13
		v_u_13:_flicker()
	end))
	return v_u_13
end
function v_u_10._setPartsVisible(p26, p27)
	local v28 = p26.obj:FindFirstChild("Lasers")
	for _, v29 in assert(v28, "no lasersModel exists"):GetChildren() do
		if p27 then
			v29.CanTouch = true
			v29.Transparency = 0.2
		else
			v29.CanTouch = false
			v29.Transparency = 1
		end
	end
end
function v_u_10._setTouchPartsTriggered(p30)
	-- upvalues: (copy) v_u_8
	local v_u_31 = {}
	local v_u_32 = {}
	for _, v33 in p30.buttonsModel:GetChildren() do
		local v34 = v_u_8.getInnerModel(v33):FindFirstChild("Touch")
		v_u_31[v34] = v34.Transparency
		v_u_32[v34] = v34.Color
		v34.Transparency = 0
		v34.Color = Color3.new(0.9, 0, 0)
	end
	return function()
		-- upvalues: (copy) v_u_31, (copy) v_u_32
		for v35, v36 in v_u_31 do
			v35.Transparency = v36
		end
		for v37, v38 in v_u_32 do
			v37.Color = v38
		end
	end
end
function v_u_10._flicker(p39)
	-- upvalues: (copy) v_u_4, (copy) v_u_1
	if not p39._flashing then
		p39._flashing = true
		v_u_4.ObjectLocal(p39.obj:FindFirstChild("SoundPart"), 11793588989, {
			["Volume"] = 1
		})
		local v40 = p39:_setTouchPartsTriggered()
		for v41 = 0, 6 do
			p39:_setPartsVisible(v41 % 2 == 0)
			local v42 = os.clock()
			local v43 = 0.06666666666666667 * 0.7777777777777778 ^ (6 - v41)
			repeat
				v_u_1.Heartbeat:Wait()
			until v43 <= os.clock() - v42
		end
		p39:_setPartsVisible(true)
		task.wait(2)
		p39:_setPartsVisible(false)
		v40()
		p39._flashing = false
	end
end
return v6.new("LaserTrap", {
	["replicateRemote"] = "ReplicateRemote"
}, v_u_10)
