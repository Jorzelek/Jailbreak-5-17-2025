-- Saved by UniversalSynSaveInstance (Join to Copy Games) https://discord.gg/wx4ThpAsmw

-- Bytecode (Base64):
-- BgNQBXByb3BzFXNldFNhZmVzSW52ZW50b3J5T3BlbgxzZXRTYWZlc09wZW4Fc3RhdGUQc2hvcFNpZGViYXJJdGVtcxVzYWZlc1NlbGVjdGVkVHlwZUVudW0IdHlwZUVudW0QbWlzc2luZyB0eXBlRW51bQZhc3NlcnQZU0FGRV9QVVJDSEFTRV9SRU1PVEVfTkFNRQ5GaW5kRmlyc3RDaGlsZApGaXJlU2VydmVyFVNBRkVfT1BFTl9SRU1PVEVfTkFNRRFfY29tcHV0ZVNob3BJdGVtcxhfY29tcHV0ZVNob3BTaWRlYmFySXRlbXMQb25TZWxlY3RCdXlTYWZlcxFvblNlbGVjdE9wZW5TYWZlcwxvblNlbGVjdEV4aXQQb25TZWxlY3RQdXJjaGFzZQpvblNhZmVPcGVuBGluaXQLcmFyaXR5SW5kZXgFdGl0bGUKUmV3YXJkRGF0YQV0YWJsZQZpbnNlcnQEc29ydAlzaG9wSXRlbXMIc2V0U3RhdGUHaW1hZ2VJZAdJbWFnZUlkHHNldFNhZmVzU2VsZWN0ZWRTYWZlVHlwZUVudW0LaXRlbU93bmVkSWQEb3BlbgVjb3VudAhzZWxlY3RlZAhvblNlbGVjdBNzYWZlc0ludmVudG9yeUl0ZW1zDWludmVudG9yeU9wZW4GZmlsdGVyBHNpemUIcG9zaXRpb24LYW5jaG9yUG9pbnQMc2lkZWJhckl0ZW1zE3NpZGViYXJJdGVtTWV0YWRhdGEFaXRlbXMMaXRlbU1ldGFkYXRhFHNlbGVjdGVkU2FmZVRpZXJEYXRhBnJlbmRlcglkaWRVcGRhdGUSc2FmZXNJbnZlbnRvcnlPcGVuCXNhZmVzT3BlbgR0eXBlBXZhbHVlBGdhbWURUmVwbGljYXRlZFN0b3JhZ2UKR2V0U2VydmljZQdyZXF1aXJlA1N0ZApUYWJsZVV0aWxzBlN0cmluZwVSb2FjdApSb2FjdFJvZHV4DWNyZWF0ZUVsZW1lbnQFU2FmZXMLU2FmZXNDb25zdHMJU0FGRV9EQVRBDVJld2FyZFNwaW5uZXIaZ2V0SXRlbVByb3BzRnJvbVJld2FyZERhdGEGc2NyaXB0BlBhcmVudA5TYWZlc0ludmVudG9yeQlTYWZlc1Nob3ANUHVyZUNvbXBvbmVudAZleHRlbmQFVURpbTID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

-- Decompiled by Krnl

local v_u_1 = game:GetService("ReplicatedStorage")
local v_u_2 = require(v_u_1.Std.TableUtils)
require(v_u_1.Std.String)
local v3 = require(v_u_1.Roact)
local v4 = require(v_u_1.RoactRodux)
local v_u_5 = v3.createElement
local v_u_6 = require(v_u_1.Safes.SafesConsts)
local v_u_7 = v_u_6.SAFE_DATA
local v_u_8 = require(v_u_1.RewardSpinner.getItemPropsFromRewardData)
local v_u_9 = require(script.Parent.SafesInventory)
local v_u_10 = require(script.Parent.SafesShop)
local v11 = v3.PureComponent:extend("Safes")
v11.defaultProps = {
	["size"] = UDim2.new(1, 0, 1, 0),
	["position"] = UDim2.new(0, 0, 0, 0),
	["anchorPoint"] = Vector2.new(0, 0)
}
function v11.init(p_u_12)
	-- upvalues: (copy) v_u_1, (copy) v_u_6
	p_u_12:_computeShopItems()
	p_u_12:_computeShopSidebarItems()
	function p_u_12.onSelectBuySafes()
		-- upvalues: (copy) p_u_12
		p_u_12.props.setSafesInventoryOpen(false)
	end
	function p_u_12.onSelectOpenSafes()
		-- upvalues: (copy) p_u_12
		p_u_12.props.setSafesInventoryOpen(true)
	end
	function p_u_12.onSelectExit()
		-- upvalues: (copy) p_u_12
		p_u_12.props.setSafesOpen(false)
	end
	function p_u_12.onSelectPurchase()
		-- upvalues: (copy) p_u_12, (ref) v_u_1, (ref) v_u_6
		local v13 = p_u_12.state.shopSidebarItems[p_u_12.props.safesSelectedTypeEnum].typeEnum
		local v14 = v13 ~= nil
		assert(v14, "missing typeEnum")
		v_u_1:FindFirstChild(v_u_6.SAFE_PURCHASE_REMOTE_NAME):FireServer(v13)
	end
	function p_u_12.onSafeOpen(p15)
		-- upvalues: (ref) v_u_1, (ref) v_u_6
		v_u_1:FindFirstChild(v_u_6.SAFE_OPEN_REMOTE_NAME):FireServer(p15)
	end
end
function v11._computeShopItems(p16)
	-- upvalues: (copy) v_u_7, (copy) v_u_8
	local v17 = {}
	for _, v18 in v_u_7[p16.props.safesSelectedTypeEnum].RewardData do
		local v19 = v_u_8(v18)
		table.insert(v17, v19)
	end
	table.sort(v17, function(p20, p21)
		if p20.rarityIndex == p21.rarityIndex then
			return p20.title < p21.title
		else
			return p20.rarityIndex > p21.rarityIndex
		end
	end)
	p16:setState({
		["shopItems"] = v17
	})
end
function v11._computeShopSidebarItems(p22)
	-- upvalues: (copy) v_u_7
	local v23 = {}
	for v24, v25 in v_u_7 do
		local v26 = {
			["typeEnum"] = v24,
			["imageId"] = v25.ImageId
		}
		table.insert(v23, v26)
	end
	p22:setState({
		["shopSidebarItems"] = v23
	})
end
function v11.render(p_u_27)
	-- upvalues: (copy) v_u_2, (copy) v_u_5, (copy) v_u_9, (copy) v_u_10, (copy) v_u_7
	if p_u_27.props.open then
		local v28 = {}
		for v29 = 1, #p_u_27.state.shopSidebarItems do
			local v_u_30 = p_u_27.state.shopSidebarItems[v29].typeEnum
			local v31 = {
				["count"] = 0
			}
			if v_u_30 == p_u_27.props.safesSelectedTypeEnum then
				v31.selected = true
			end
			function v31.onSelect()
				-- upvalues: (copy) p_u_27, (copy) v_u_30
				p_u_27.props.setSafesSelectedSafeTypeEnum(v_u_30)
			end
			v28[v_u_30] = v31
		end
		for _, v32 in p_u_27.props.safesInventoryItems do
			local v33 = v28[v32.typeEnum]
			v33.count = v33.count + 1
		end
		if not p_u_27.props.inventoryOpen then
			return v_u_5(v_u_10, {
				["size"] = p_u_27.props.size,
				["position"] = p_u_27.props.position,
				["anchorPoint"] = p_u_27.props.anchorPoint,
				["items"] = p_u_27.state.shopItems,
				["sidebarItems"] = p_u_27.state.shopSidebarItems,
				["sidebarItemMetadata"] = v28,
				["selectedSafeTierData"] = v_u_7[p_u_27.props.safesSelectedTypeEnum],
				["onSelectOpenSafes"] = p_u_27.onSelectOpenSafes,
				["onSelectExit"] = p_u_27.onSelectExit,
				["onSelectPurchase"] = p_u_27.onSelectPurchase
			})
		end
		local v35 = v_u_2.filter(p_u_27.props.safesInventoryItems, function(p34)
			-- upvalues: (copy) p_u_27
			return p34.typeEnum == p_u_27.props.safesSelectedTypeEnum
		end)
		local v36 = {}
		for v37 = 1, #v35 do
			local v_u_38 = v35[v37]
			table.insert(v36, {
				["onSelect"] = function()
					-- upvalues: (copy) p_u_27, (copy) v_u_38
					p_u_27.onSafeOpen(v_u_38.itemOwnedId)
				end
			})
		end
		return v_u_5(v_u_9, {
			["size"] = p_u_27.props.size,
			["position"] = p_u_27.props.position,
			["anchorPoint"] = p_u_27.props.anchorPoint,
			["sidebarItems"] = p_u_27.state.shopSidebarItems,
			["sidebarItemMetadata"] = v28,
			["items"] = v35,
			["itemMetadata"] = v36,
			["onSelectBuySafes"] = p_u_27.onSelectBuySafes,
			["onSelectExit"] = p_u_27.onSelectExit
		})
	end
end
function v11.didUpdate(p39, p40, _)
	if p39.props.safesSelectedTypeEnum ~= p40.safesSelectedTypeEnum then
		p39:_computeShopItems()
	end
end
return v4.connect(function(p41, _)
	return {
		["safesSelectedTypeEnum"] = p41.safesSelectedTypeEnum,
		["safesInventoryItems"] = p41.safesInventoryItems,
		["inventoryOpen"] = p41.safesInventoryOpen,
		["open"] = p41.safesOpen
	}
end, function(p_u_42)
	return {
		["setSafesSelectedSafeTypeEnum"] = function(p43)
			-- upvalues: (copy) p_u_42
			p_u_42({
				["type"] = "setSafesSelectedSafeTypeEnum",
				["typeEnum"] = p43
			})
		end,
		["setSafesInventoryOpen"] = function(p44)
			-- upvalues: (copy) p_u_42
			p_u_42({
				["type"] = "setSafesInventoryOpen",
				["value"] = p44
			})
		end,
		["setSafesOpen"] = function(p45)
			-- upvalues: (copy) p_u_42
			p_u_42({
				["type"] = "setSafesOpen",
				["value"] = p45
			})
		end
	}
end)(v11)
