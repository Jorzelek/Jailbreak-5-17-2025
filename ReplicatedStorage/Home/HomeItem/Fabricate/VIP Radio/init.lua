-- Saved by UniversalSynSaveInstance (Join to Copy Games) https://discord.gg/wx4ThpAsmw

-- Bytecode (Base64):
-- BgNWB0Rlc3Ryb3kQUExBWV9SRU1PVEVfTkFNRQ5GaW5kRmlyc3RDaGlsZApGaXJlU2VydmVyBE9wZW4GV2luZG93EUdldE9uQ2xvc2VkU2lnbmFsB0Nvbm5lY3QNbGlzdGVuT25DbG9zZQ1PblNvbmdTdGFydGVkE2xpc3Rlbk9uU29uZ1N0YXJ0ZWQHRW5hYmxlZAZhY3Rpb24GSXNPcGVuDWlzQ3VzdG9taXppbmcYcXVlcnlDdXJyZW50U3RhbmRpbmdIb21lB0dldEhvbWUTSGFzUGVybWlzc2lvblRvRWRpdAxwcmVVcGRhdGVGdW4GUmVtb3ZlBFBhcnQETmFtZQVUaW1lZAREaXN0CENhbGxiYWNrDFByZVVwZGF0ZUZ1bg9QcmVVcGRhdGVQZXJpb2QKT3BlbiBSYWRpbwNBZGQIR2l2ZVRhc2sMQ3VycmVudFNvdW5kEFBsYXliYWNrTG91ZG5lc3MEbWF0aAR0YW5oC0ZpZWxkT2ZWaWV3D3VwZGF0ZUNhbWVyYUZvdgpHZXROb3dTeW5jDEdldFN0YXJ0ZWRBdBNQbGF5UmFuZG9tU29uZ0FmdGVyBlBsYXlJZAVfbWFpZAlIZWFydGJlYXQJdXBkYXRlRm92BnBsYXlJZAlHZXRTb25nSWQEU3RvcA5DdXJyZW50U291bmRJZAxzZXRtZXRhdGFibGUEX29iagNuZXcUb2JzZXJ2ZU9uZUNoaWxkTmFtZWQFUmFkaW8RU09OR19JRF9BVFRSX05BTUUZR2V0QXR0cmlidXRlQ2hhbmdlZFNpZ25hbAlvbkVudGVyZWQIb25FeGl0ZWQMR2V0QXR0cmlidXRlFFNUQVJURURfQVRfQVRUUl9OQU1FBmFzc2VydAZfcmFkaW8Fc2V0dXAEZ2FtZQpSdW5TZXJ2aWNlCkdldFNlcnZpY2UHUGxheWVycwtMb2NhbFBsYXllcgl3b3Jrc3BhY2UNQ3VycmVudENhbWVyYRFSZXBsaWNhdGVkU3RvcmFnZQdyZXF1aXJlA1N0ZARNYWlkD1J4SW5zdGFuY2VVdGlscwJVSQZNb2R1bGUMQ2lyY2xlQWN0aW9uBEdhbWULUmFkaW9QbGF5ZXIESG9tZQhIb21lSXRlbQ5Ib21lSXRlbVN5c3RlbQpIb21lU3lzdGVtBFRpbWULUmFkaW9Db25zdHMG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

-- Decompiled by Krnl

local v_u_1 = game:GetService("RunService")
local v_u_2 = game:GetService("Players").LocalPlayer
local v_u_3 = workspace.CurrentCamera
local v4 = game:GetService("ReplicatedStorage")
local v_u_5 = require(v4.Std.Maid)
local v_u_6 = require(v4.Std.RxInstanceUtils)
local v_u_7 = require(v4.Module.UI).CircleAction
local v_u_8 = require(v4.Game.Radio.Radio)
local v_u_9 = require(v4.Game.Radio.RadioPlayer)
local v_u_10 = require(v4.Home.HomeItem.HomeItemSystem)
local v_u_11 = require(v4.Home.HomeSystem)
local v_u_12 = require(v4.Module.Time)
local v_u_13 = require(script.RadioConsts)
local v_u_14 = {}
v_u_14.__index = v_u_14
function v_u_14.new(p_u_15)
	-- upvalues: (copy) v_u_14, (copy) v_u_5, (copy) v_u_8, (copy) v_u_9, (copy) v_u_13, (copy) v_u_10, (copy) v_u_11, (copy) v_u_2, (copy) v_u_6, (copy) v_u_7, (copy) v_u_3, (copy) v_u_12, (copy) v_u_1
	local v_u_16 = {}
	local v17 = v_u_14
	setmetatable(v_u_16, v17)
	local v_u_18 = p_u_15._obj
	v_u_16._obj = v_u_18
	v_u_16._maid = v_u_5.new()
	local v_u_19 = v_u_5.new()
	local function v_u_23(p20, p21)
		-- upvalues: (ref) v_u_8, (copy) v_u_19, (ref) v_u_9, (copy) v_u_18, (ref) v_u_13
		if not p21 then
			return false
		end
		v_u_8.Open()
		v_u_19.listenOnClose = v_u_8.Window:GetOnClosedSignal():Connect(function()
			-- upvalues: (ref) v_u_19
			v_u_19:Destroy()
		end)
		v_u_19.listenOnSongStarted = v_u_9.OnSongStarted:Connect(function(p22)
			-- upvalues: (ref) v_u_18, (ref) v_u_13
			v_u_18:FindFirstChild(v_u_13.PLAY_REMOTE_NAME):FireServer(p22)
		end)
		p20.Enabled = false
		return true
	end
	local function v_u_28(p24)
		-- upvalues: (ref) v_u_8, (ref) v_u_10, (ref) v_u_11, (copy) p_u_15, (ref) v_u_2
		local v25 = not v_u_8.IsOpen()
		if v25 then
			v25 = not v_u_10.isCustomizing()
		end
		local v26 = v_u_11.queryCurrentStandingHome()
		if not v26 then
			v25 = false
		end
		local v27 = p_u_15:GetHome()
		if v27 == v26 then
			if not v27:HasPermissionToEdit(v_u_2) then
				v25 = false
			end
		else
			v25 = false
		end
		p24.Enabled = v25
	end
	v_u_16._maid:GiveTask(v_u_6.observeOneChildNamed(v_u_18, "Radio", function(p_u_29, p30)
		-- upvalues: (copy) v_u_23, (copy) v_u_28, (ref) v_u_7
		local v31 = {
			["Part"] = p_u_29,
			["Name"] = "Open Radio",
			["Timed"] = false,
			["Dist"] = 10,
			["Callback"] = v_u_23,
			["PreUpdateFun"] = v_u_28,
			["PreUpdatePeriod"] = 0.1
		}
		v_u_7.Add(v31, p_u_29)
		p30:GiveTask(function()
			-- upvalues: (ref) v_u_7, (copy) p_u_29
			v_u_7.Remove(p_u_29)
		end)
	end))
	local v_u_32 = 0
	local v_u_33 = 0
	local function v_u_41()
		-- upvalues: (ref) v_u_9, (ref) v_u_33, (ref) v_u_32, (ref) v_u_3
		if v_u_9.CurrentSound then
			local v34 = v_u_9.CurrentSound.PlaybackLoudness
			local v35 = v34 ~= v34 and 0 or v34
			if v_u_33 ~= v_u_33 then
				v_u_33 = 0
			end
			if v_u_32 ~= v_u_32 then
				v_u_32 = 0
			end
			if v_u_33 > 999 then
				v_u_33 = 0
			end
			if v_u_32 > 999 then
				v_u_32 = 0
			end
			if v_u_33 < -999 then
				v_u_33 = 0
			end
			if v_u_32 < -999 then
				v_u_32 = 0
			end
			v_u_32 = v_u_32 * 0.86 + v35 * 0.14
			local v36 = (v35 - v_u_32) / 150
			local v37 = math.tanh(v36)
			v_u_33 = v_u_33 * 0.97 + v37 * 0.030000000000000027
			local v38 = v_u_33
			local v39 = v38 < -1 and -1 or v38
			local v40 = v39 > 1 and 1 or v39
			v_u_3.FieldOfView = (v40 ~= v40 and 0 or v40) * 10 + 70
		end
	end
	v_u_16._maid:GiveTask(v_u_16._obj:GetAttributeChangedSignal(v_u_13.SONG_ID_ATTR_NAME):Connect(function()
		-- upvalues: (ref) v_u_11, (copy) p_u_15, (copy) v_u_16, (ref) v_u_12, (ref) v_u_9, (ref) v_u_1, (copy) v_u_41
		if v_u_11.queryCurrentStandingHome() == p_u_15:GetHome() then
			local v42 = v_u_16:GetSongId()
			if v42 then
				local v43 = v_u_12.GetNowSync() - v_u_16:GetStartedAt()
				v_u_9.PlayRandomSongAfter = false
				v_u_9.PlayId(v42, v43, false)
				v_u_16._maid.updateFov = v_u_1.Heartbeat:Connect(v_u_41)
				return
			end
			v_u_9.Stop()
			v_u_16._maid.updateFov = nil
		end
	end))
	v_u_16._maid:GiveTask(v_u_11.onEntered:Connect(function(p44)
		-- upvalues: (copy) p_u_15, (copy) v_u_16, (ref) v_u_12, (ref) v_u_9, (ref) v_u_1, (copy) v_u_41
		local v45 = p_u_15:GetHome() == p44 and v_u_16:GetSongId()
		if v45 then
			local v46 = v_u_12.GetNowSync() - v_u_16:GetStartedAt()
			v_u_9.PlayRandomSongAfter = false
			v_u_9.PlayId(v45, v46, false)
			v_u_16._maid.updateFov = v_u_1.Heartbeat:Connect(v_u_41)
		end
	end))
	v_u_16._maid:GiveTask(v_u_11.onExited:Connect(function(p47)
		-- upvalues: (copy) p_u_15, (copy) v_u_16, (ref) v_u_9
		if p_u_15:GetHome() == p47 then
			local v48 = v_u_16:GetSongId()
			if v48 and v_u_9.CurrentSoundId == v48 then
				v_u_9.Stop()
				v_u_16._maid.updateFov = nil
			end
		end
	end))
	return v_u_16
end
function v_u_14.GetSongId(p49)
	-- upvalues: (copy) v_u_13
	return p49._obj:GetAttribute(v_u_13.SONG_ID_ATTR_NAME)
end
function v_u_14.GetStartedAt(p50)
	-- upvalues: (copy) v_u_13
	return p50._obj:GetAttribute(v_u_13.STARTED_AT_ATTR_NAME)
end
function v_u_14.Destroy(p51)
	local v52 = p51._maid
	local v53 = v52 ~= nil
	assert(v53)
	p51._maid = nil
	v52:Destroy()
end
return {
	["setup"] = function(p54)
		-- upvalues: (copy) v_u_14
		local v55 = v_u_14.new(p54)
		p54._maid:GiveTask(v55)
		p54._radio = v55
	end
}
