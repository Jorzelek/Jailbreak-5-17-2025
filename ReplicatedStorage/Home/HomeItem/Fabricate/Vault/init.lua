-- Saved by UniversalSynSaveInstance (Join to Copy Games) https://discord.gg/wx4ThpAsmw

-- Bytecode (Base64):
-- BgNwEl9vbkRlYWRsaW5lQ2hhbmdlZBBfb25BbW91bnRDaGFuZ2VkDHNldG1ldGF0YWJsZQlfaG9tZUl0ZW0EX29iagNvYmoDbmV3BV9tYWlkBG1haWQTREVBRExJTkVfVkFMVUVfTkFNRQxXYWl0Rm9yQ2hpbGQOX2RlYWRsaW5lVmFsdWUHQ2hhbmdlZAdDb25uZWN0CEdpdmVUYXNrEUFNT1VOVF9WQUxVRV9OQU1FDF9hbW91bnRWYWx1ZRpWQVVMVF9JTlRFUkFDVF9SRU1PVEVfTkFNRRRfdmF1bHRJbnRlcmFjdFJlbW90ZQlfZmluZERvb3INZ2V0SW5uZXJNb2RlbApfZG9vck1vZGVsBmlwYWlycwtHZXRDaGlsZHJlbgROYW1lA0FybQZDRnJhbWUHVmVjdG9yMwRTaXplCF9zZXRBcm1KCkdldE5vd1N5bmMLR2V0RGVhZGxpbmURX3VwZGF0ZURlYWRsaW5lVWkNX2RlYWRsaW5lTG9vcAVldmVyeQxfcmVjZWl2ZURvb3IERG9vchFwcm9taXNlQm91bmRDbGFzcwdhbmRUaGVuBHdhcm4FY2F0Y2gHZ2V0T3BlbgpJc0NvdW50aW5nB0dldEhvbWUUSGFzUGVybWlzc2lvblRvRW50ZXIOSXNCZWluZ0RyYWdnZWQHRW5hYmxlZAxwcmVVcGRhdGVGdW4KRmlyZVNlcnZlcgZhY3Rpb24GUmVtb3ZlBEJvZHkEUGFydAVOb1JheQVUaW1lZAhEdXJhdGlvbgREaXN0CENhbGxiYWNrDFByZVVwZGF0ZUZ1bgADQWRkD0dldElzVmF1bHRBcm1lZA9nZXRBcm1pbmdUZWFtSWQPR2V0QXJtaW5nVGVhbUlkBG1hdGgFZmxvb3IFVGltZXIKU3VyZmFjZUd1aQlUZXh0TGFiZWwJJTAyZDolMDJkBmZvcm1hdARUZXh0BENhc2gFVmFsdWUGQ29sb3IzB2Zyb21SR0IQQmFja2dyb3VuZENvbG9yMxZCYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ClRleHRDb2xvcjMCJXMIQ3VycmVuY3kGYXNzZXJ0B0Rlc3Ryb3kGX3ZhdWx0BXNldHVwBGdhbWUHUGxheWVycwpHZXRTZXJ2aWNlEVJlcGxpY2F0ZWRTdG9yYWdlB3JlcXVpcmUGc2NyaXB0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

-- Decompiled by Krnl

local v1 = game:GetService("Players")
local v2 = game:GetService("ReplicatedStorage")
local v_u_3 = require(script.VaultUtils)
local v_u_4 = require(v2.Door2.DoorBinder)
local v_u_5 = require(v2.Std.Maid)
local v_u_6 = require(v2.Module.Time)
local v_u_7 = require(v2.Std.Interval)
local v_u_8 = require(v2.Module.Format)
local v_u_9 = require(script.VaultConsts)
local v_u_10 = require(v2.Door2.DoorUtils)
require(v2.Game.PlayerUtils)
require(v2.Resource.Settings)
local v_u_11 = require(v2.Std.Binder.BinderUtils)
local v_u_12 = v1.LocalPlayer
local v_u_13 = require(v2.Module.UI).CircleAction
local v_u_14 = {}
v_u_14.__index = v_u_14
function v_u_14.new(p15)
	-- upvalues: (copy) v_u_14, (copy) v_u_5, (copy) v_u_9
	local v_u_16 = {}
	local v17 = v_u_14
	setmetatable(v_u_16, v17)
	v_u_16._homeItem = p15
	v_u_16._obj = v_u_16._homeItem._obj
	v_u_16.obj = v_u_16._obj
	v_u_16._maid = v_u_5.new()
	v_u_16.maid = v_u_16._maid
	v_u_16._deadlineValue = v_u_16._obj:WaitForChild(v_u_9.DEADLINE_VALUE_NAME)
	v_u_16._maid:GiveTask(v_u_16._deadlineValue.Changed:Connect(function()
		-- upvalues: (copy) v_u_16
		v_u_16:_onDeadlineChanged()
	end))
	v_u_16:_onDeadlineChanged()
	v_u_16._amountValue = v_u_16._obj:WaitForChild(v_u_9.AMOUNT_VALUE_NAME)
	v_u_16._maid:GiveTask(v_u_16._amountValue.Changed:Connect(function()
		-- upvalues: (copy) v_u_16
		v_u_16:_onAmountChanged()
	end))
	v_u_16:_onAmountChanged()
	v_u_16._vaultInteractRemote = v_u_16._obj:WaitForChild(v_u_9.VAULT_INTERACT_REMOTE_NAME)
	v_u_16:_findDoor()
	return v_u_16
end
function v_u_14._setArmJ(p18, p19)
	-- upvalues: (copy) v_u_10
	local v20 = v_u_10.getInnerModel(p18._doorModel)
	for _, v21 in ipairs(v20:GetChildren()) do
		if v21.Name == "Arm" then
			local v22 = v21.CFrame
			local v23 = p19 * 7.6 + (1 - p19) * 4
			v21.Size = Vector3.new(v23, 0.5, 0.5)
			v21.CFrame = v22
		end
	end
end
function v_u_14._onDeadlineChanged(p_u_24)
	-- upvalues: (copy) v_u_6, (copy) v_u_7
	local v_u_25 = v_u_6.GetNowSync()
	if v_u_25 < p_u_24:GetDeadline() then
		p_u_24._maid._deadlineLoop = v_u_7.every(1):Connect(function()
			-- upvalues: (ref) v_u_25, (ref) v_u_6, (copy) p_u_24
			v_u_25 = v_u_6.GetNowSync()
			local v26 = p_u_24:GetDeadline() - v_u_25
			local v27 = v26 < 0 and 0 or v26
			p_u_24:_updateDeadlineUi(v27)
			if v27 == 0 then
				p_u_24._maid._deadlineLoop = nil
			end
		end)
	else
		p_u_24:_updateDeadlineUi(0)
	end
end
function v_u_14._findDoor(p_u_28)
	-- upvalues: (copy) v_u_11, (copy) v_u_4
	local v29 = p_u_28._obj:WaitForChild("Door")
	p_u_28._doorModel = v29
	v_u_11.promiseBoundClass(v_u_4, v29):andThen(function(p30)
		-- upvalues: (copy) p_u_28
		p_u_28:_receiveDoor(p30)
	end):catch(warn)
end
function v_u_14._receiveDoor(p_u_31, _)
	-- upvalues: (copy) v_u_10, (copy) v_u_12, (copy) v_u_13
	local function v37(p32)
		-- upvalues: (ref) v_u_10, (copy) p_u_31, (ref) v_u_12
		local v33 = v_u_10.getOpen(p_u_31._doorModel)
		local v34 = p_u_31:IsCounting()
		local v35 = p_u_31._homeItem:GetHome()
		local v36
		if v35 and (v35:HasPermissionToEnter(v_u_12) and not v34) then
			p32.Name = "Arm"
			v36 = true
		else
			v36 = false
		end
		if p_u_31._homeItem:IsBeingDragged() then
			v36 = false
		end
		if not v33 then
			v36 = false
		end
		p32.Enabled = v36
	end
	local v_u_38 = v_u_10.getInnerModel(p_u_31.obj.Door).Body
	p_u_31.maid:GiveTask(function() end)
	v_u_13.Add({
		["Part"] = v_u_38,
		["Name"] = "",
		["NoRay"] = true,
		["Timed"] = true,
		["Duration"] = 3,
		["Dist"] = 10,
		["Callback"] = function(_, p39)
			-- upvalues: (copy) p_u_31
			if p39 then
				p_u_31._vaultInteractRemote:FireServer()
				return true
			end
		end,
		["PreUpdateFun"] = v37
	}, v_u_38)
	p_u_31._maid:GiveTask(function()
		-- upvalues: (ref) v_u_13, (copy) v_u_38
		v_u_13.Remove(v_u_38)
	end)
end
function v_u_14.GetIsVaultArmed(p40)
	-- upvalues: (copy) v_u_10
	return not v_u_10.getOpen(p40.obj.Door)
end
function v_u_14.GetArmingTeamId(p41)
	-- upvalues: (copy) v_u_3
	return v_u_3.getArmingTeamId(p41.obj)
end
function v_u_14._updateDeadlineUi(p42, p43)
	-- upvalues: (copy) v_u_10
	local v44 = p43 / 60
	local v45 = math.floor(v44)
	local v46 = p43 % 60
	v_u_10.getInnerModel(p42._obj.Door).Timer.SurfaceGui.TextLabel.Text = ("%02d:%02d"):format(v45, v46)
end
function v_u_14._onAmountChanged(p47)
	-- upvalues: (copy) v_u_10, (copy) v_u_8
	local v48 = v_u_10.getInnerModel(p47._obj.Door).Cash.SurfaceGui
	if p47._amountValue.Value > 0 then
		v48.TextLabel.BackgroundColor3 = Color3.fromRGB(115, 250, 121)
		v48.TextLabel.BackgroundTransparency = 0
		v48.TextLabel.TextColor3 = Color3.new(0, 0, 0)
	else
		v48.TextLabel.BackgroundTransparency = 1
	end
	v48.TextLabel.Text = ("%s"):format(v_u_8.Currency(p47._amountValue.Value))
end
function v_u_14.GetDeadline(p49)
	return p49._deadlineValue.Value
end
function v_u_14.IsCounting(p50)
	-- upvalues: (copy) v_u_6
	return p50:GetDeadline() > v_u_6.GetNowSync()
end
function v_u_14.Destroy(p51)
	local v52 = p51._maid
	local v53 = v52 ~= nil
	assert(v53)
	p51._maid = nil
	v52:Destroy()
end
return {
	["setup"] = function(p54)
		-- upvalues: (copy) v_u_14
		local v55 = v_u_14.new(p54)
		p54._maid:GiveTask(v55)
		p54._vault = v55
	end
}
