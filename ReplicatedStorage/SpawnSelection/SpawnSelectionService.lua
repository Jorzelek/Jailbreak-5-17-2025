-- Saved by UniversalSynSaveInstance (Join to Copy Games) https://discord.gg/wx4ThpAsmw

-- Bytecode (Base64):
-- BgNODV91cGRhdGVSZW1vdGUNT25DbGllbnRFdmVudA5fcmVjZWl2ZVNwYXducwdDb25uZWN0BHR5cGUHdmlzaWJsZR1zZXRTcGF3blNlbGVjdGlvbk9mZmVyVmlzaWJsZQhkaXNwYXRjaAxfb2ZmZXJSZW1vdGUNbWluaW1hcFNwYXducwVfbWFpZBFyZWNlaXZlU3Bhd25zTWFpZB1TcGF3blNlbGVjdGlvblVwZGF0ZVNwYXduRGF0YQdhbmRUaGVuE1NwYXduU2VsZWN0aW9uT2ZmZXIHY2hhbmdlZAdjb25uZWN0BGluaXQKRmlyZVNlcnZlchFyZXF1ZXN0U2hvd1NwYXducxRTcGF3blNlbGVjdGlvblNlbGVjdA5GaW5kRmlyc3RDaGlsZA1hdHRlbXB0U2VsZWN0CkdldFBsYXllcnMQZ2V0Q3VycmVudENsYW5JZAlDaGFyYWN0ZXIYZ2V0UG9zaXRpb25Gcm9tQ2hhcmFjdGVyCHBvc2l0aW9uCU1hZ25pdHVkZRJFTkVNWV9DSEVDS19SQURJVVMDbmV3C0xvY2FsUGxheWVyBG5hbWUWbWlzc2luZyBzcGF3bkRhdGEubmFtZQZhc3NlcnQMdXNlUGFyYWNodXRlBmxvY2tlZBptaXNzaW5nIHNwYXduRGF0YS5wb3NpdGlvbhFnZXRJc0JhdHRsZVNlcnZlcg1jcmVhdGVCaW5kaW5nCm51bUVuZW1pZXMFZXZlcnkIR2l2ZVRhc2sPZXhjbHVzaXZlVGVhbUlkCVRlYW1Db2xvcg9iYWNrZ3JvdW5kQ29sb3IGQ29sb3IzBXRhYmxlBmluc2VydAZzcGF3bnMQbWluaW1hcFNldFNwYXducwpyZWNlaXZlZEF0G3NldFNwYXduU2VsZWN0aW9uUmVjZWl2ZWRBdAl3b3Jrc3BhY2UQR2V0U2VydmVyVGltZU5vdwRnYW1lB1BsYXllcnMKR2V0U2VydmljZRFSZXBsaWNhdGVkU3RvcmFnZQdyZXF1aXJlBnNjcmlwdAZQYXJlbnQUU3Bhd25TZWxlY3Rpb25Db25zdHMDU3RkDHdhaXRGb3JDaGlsZAhSZXNvdXJjZQhTZXR0aW5ncwNBcHAFc3RvcmUEQ2xhbglDbGFuVXRpbHMER2FtZQ1DaGFyYWN0ZXJVdGlsDVByaXZhdGVTZXJ2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

-- Decompiled by Krnl

local v_u_1 = game:GetService("Players")
local v_u_2 = game:GetService("ReplicatedStorage")
local v_u_3 = require(script.Parent.SpawnSelectionConsts)
local v_u_4 = require(v_u_2.Std.waitForChild)
local v_u_5 = require(v_u_2.Resource.Settings)
local v_u_6 = require(v_u_2.App.store)
local v_u_7 = require(v_u_2.Clan.ClanUtils)
local v_u_8 = require(v_u_2.Game.CharacterUtil)
local v_u_9 = require(v_u_2.PrivateServer.PrivateServerUtils)
local v_u_10 = require(v_u_2.Roact)
local v_u_11 = require(v_u_2.Std.Interval)
local v_u_12 = require(v_u_2.Std.Maid)
local v_u_32 = {
	["_updateRemote"] = nil,
	["_maid"] = v_u_12.new(),
	["init"] = function()
		-- upvalues: (copy) v_u_4, (copy) v_u_2, (copy) v_u_32, (copy) v_u_6
		v_u_4(v_u_2, "SpawnSelectionUpdateSpawnData"):andThen(function(p13)
			-- upvalues: (ref) v_u_32
			v_u_32._updateRemote = p13
			p13.OnClientEvent:Connect(v_u_32._receiveSpawns)
		end)
		v_u_4(v_u_2, "SpawnSelectionOffer"):andThen(function(p14)
			-- upvalues: (ref) v_u_32, (ref) v_u_6
			v_u_32._offerRemote = p14
			p14.OnClientEvent:Connect(function()
				-- upvalues: (ref) v_u_6
				v_u_6:dispatch({
					["type"] = "setSpawnSelectionOfferVisible",
					["visible"] = true
				})
			end)
		end)
		v_u_6.changed:connect(function(p15, p16)
			-- upvalues: (ref) v_u_32
			if p15.minimapSpawns ~= p16.minimapSpawns then
				v_u_32._maid.receiveSpawnsMaid = nil
			end
		end)
	end,
	["requestShowSpawns"] = function()
		-- upvalues: (copy) v_u_32
		v_u_32._updateRemote:FireServer()
	end,
	["attemptSelect"] = function(p17)
		-- upvalues: (copy) v_u_2
		v_u_2:FindFirstChild("SpawnSelectionSelect"):FireServer(p17)
	end,
	["_receiveSpawns"] = function(p18)
		-- upvalues: (copy) v_u_12, (copy) v_u_32, (copy) v_u_7, (copy) v_u_1, (copy) v_u_9, (copy) v_u_10, (copy) v_u_11, (copy) v_u_8, (copy) v_u_3, (copy) v_u_5, (copy) v_u_6
		local v19 = v_u_12.new()
		v_u_32._maid.receiveSpawnsMaid = v19
		local v_u_20 = v_u_7.getCurrentClanId(v_u_1.LocalPlayer)
		local v21 = {}
		for _, v22 in p18 do
			local v_u_23 = {}
			local v24 = v22.name
			v_u_23.name = assert(v24, "missing spawnData.name")
			v_u_23.useParachute = v22.useParachute
			v_u_23.locked = v22.locked
			local v25 = v22.position
			v_u_23.position = assert(v25, "missing spawnData.position")
			if v_u_9.getIsBattleServer() then
				local v26, v_u_27 = v_u_10.createBinding(0)
				v_u_23.numEnemies = v26
				v19:GiveTask(v_u_11.every(0.1):Connect(function()
					-- upvalues: (ref) v_u_1, (ref) v_u_7, (copy) v_u_20, (ref) v_u_8, (copy) v_u_23, (ref) v_u_3, (copy) v_u_27
					local v28 = 0
					for _, v29 in v_u_1:GetPlayers() do
						if v_u_7.getCurrentClanId(v29) ~= v_u_20 then
							local v30 = v29.Character
							if v30 then
								local v31 = v_u_8.getPositionFromCharacter(v30)
								if v31 and (v31 - v_u_23.position).Magnitude <= v_u_3.ENEMY_CHECK_RADIUS then
									v28 = v28 + 1
								end
							end
						end
					end
					v_u_27(v28)
				end))
			end
			if v22.exclusiveTeamId then
				v_u_23.backgroundColor = v_u_5.TeamColor[v22.exclusiveTeamId]
			else
				v_u_23.backgroundColor = Color3.new(1, 1, 1)
			end
			table.insert(v21, v_u_23)
		end
		v_u_6:dispatch({
			["type"] = "minimapSetSpawns",
			["spawns"] = v21
		})
		v_u_6:dispatch({
			["type"] = "setSpawnSelectionReceivedAt",
			["receivedAt"] = workspace:GetServerTimeNow()
		})
	end
}
return v_u_32
