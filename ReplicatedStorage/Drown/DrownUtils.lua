-- Saved by UniversalSynSaveInstance (Join to Copy Games) https://discord.gg/wx4ThpAsmw

-- Bytecode (Base64):
-- BgM2BlBhcmVudA5JbnZhbGlkIHBsYXllcgZhc3NlcnQEdHlwZQZudW1iZXINSW52YWxpZCB2YWx1ZRdEUk9XTl9QRVJDRU5UX0FUVFJfTkFNRQxTZXRBdHRyaWJ1dGUPc2V0RHJvd25QZXJjZW50DEdldEF0dHJpYnV0ZQ9nZXREcm93blBlcmNlbnQZR2V0QXR0cmlidXRlQ2hhbmdlZFNpZ25hbBxnZXREcm93blBlcmNlbnRDaGFuZ2VkU2lnbmFsAVgBWQFaBEVudW0ITWF0ZXJpYWwFV2F0ZXITZG9lc1dhdGVyVm94ZWxFeGlzdAlDaGFyYWN0ZXIQSHVtYW5vaWRSb290UGFydA5GaW5kRmlyc3RDaGlsZARIZWFkB1JlZ2lvbjMDbmV3BkNGcmFtZQhQb3NpdGlvbgxFeHBhbmRUb0dyaWQFZGVidWcMcHJvZmlsZWJlZ2luH2dldElzUGxheWluZ0Ryb3duaW5nIFJlYWRWb3hlbHMJd29ya3NwYWNlB1RlcnJhaW4KUmVhZFZveGVscwpwcm9maWxlZW5kBFNpemUNUmF5Y2FzdFBhcmFtcwtJZ25vcmVXYXRlchpGaWx0ZXJEZXNjZW5kYW50c0luc3RhbmNlcxFSYXljYXN0RmlsdGVyVHlwZQdJbmNsdWRlCkZpbHRlclR5cGUKY29sbGlkYWJsZRNnZXRJc1BsYXllckRyb3duaW5nBGdhbWUHUGxheWVycwpHZXRTZXJ2aWNlEVJlcGxpY2F0ZWRTdG9yYWdlB3JlcXVpcmUFRHJvd24LRHJvd25Db25zdHMDU3RkB1JheWNhc3QABgYCAgAAACZSAwAADgMHAE0EACQAAAAA+wUAAPEEAgAFAAAAqQMAAakDAQCBAQMEAQAAAG8EAQCkAgMAAAAgQJ8CAwG7KAEDUgUBAKQEBQAAAEBAnwQCAvAEAgAGAAAAqQMAAakDAQCBAQMEBwAAAG8EBwCkAgMAAAAgQJ8CAwH7BQEATQQFVggAAABSBQEAvAIALgkAAACfAgQBggABAAoDAQMCAwMEAAAgQAMEBAAAQEADBQMGAwcDCAAICQEYAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAQAAAAAAAAEJAAAAAAUBAgAAABZSAgAADgIHAE0DACQAAAAA+wQAAPEDAgAEAAAAqQIAAakCAQCBAQIEAQAAAG8DAQCkAQMAAAAgQJ8BAwH7BAEATQMEVgQAAAC8AQASBQAAAJ8BAwCCAQAABgMBAwIDAwQAACBAAwcDCgANCwEYAAAAAAAAAAAAAAAAAAAAAQAAAAAAAA4AAAAABQECAAAAFlICAAAOAgcATQMAJAAAAAD7BAAA8QMCAAQAAACpAgABqQIBAIEBAgQBAAAAbwMBAKQBAwAAACBAnwEDAfsEAQBNAwRWBAAAALwBABYFAAAAnwEDAIIBAAAGAwEDAgMDBAAAIEADBwMMABENARgAAAAAAAAAAAAAAAAAAAABAAAAAAAAEgAAAAANAAIAAAAhjAIBAPsDAABNAAN5AAAAAIwBAQCoABkAjAUBAPsGAABNAwZ4AQAAAIwEAQCoAxIAjAgBAPsJAABNBgl7AgAAAIwHAQCoBgsA+wwBAIcLDAKHCgsFhwkKCKQKBgAFEDDAmgkDAAoAAACpCgEAggoCAIsG9f+LA+7/iwDn/6kAAACCAAIABwMOAw8DEAMRAxIDEwQFEDDAACwUARgAAAAAAAABAAAAAAABAAAAAAABAAAAAgAAAAEA/P//CwAtAAAAAA4BAQAADgMAAgUBBwgHGgEICCABaE0BAGkAAAAAKwECAKkCAACCAgIAbwQBALwCAQMCAAAAnwIDAisCAgCpAwAAggMCAG8FAwC8AwEDAgAAAJ8DAwIrAwIAqQQAAIIEAgCkBAYAABRAgE0HA4UHAAAATQYHOwgAAABvBwkAJgUGB00IA4UHAAAATQcIOwgAAABvCAkAQwYHCJ8EAwKMBgQAvAQEHwoAAACfBAMCpAUNAAAwsIBvBg4AnwUCAaQGEAAAAPBATQUGVBEAAABSBwQAjAgEALwFBUkSAAAAnwUEAqQGFAAATLCAnwYBAU0GBS8VAAAA2QcAABIABgASAAUAUggHAJ8IAQIOCCgApAgXAAAUYIGfCAECqQkAADAJCGMYAAAA/wkAAAEAAACkCxAAAADwQE0KC1QRAAAAxQkKAgEAAAAwCQh9GQAAAKQJHQAcbKDBMAkIVx4AAAD7CgAATQkKmh8AAABNCgM7CAAAAG8LIACMDAoAUg0IAJ8JBQIOCQgATQoJLSEAAACkCyMAIoSgwZoKAwALAAAAqQoAAIIKAgCpCgEAggoCAKkIAACCCAIAJAMVAxYDFwMYAxkDGgQAFECAAxsDHAcAAABAAAAAQAAAAEAAAAAAAx0DHgMfBAAwsIADIAMhBAAA8EADIgMjAyQEAEywgAMlAyYEABRggQMnAygDEQMpAyoEHGygwQMrAywHAAAAgAAAgL8AAACAAAAAgAMSAxMEIoSgwQEDFS0BGAAAAQEAAgAAAAEBAAIAAAABAQADAAAAAAAAAAAAAAAAAAABAAAAAwAAAAEAAAAAAAAAAAEAAAEAAgAAEAAAAQAAAQAAAQAAAAAAAAAAAAEAAAABAAAAAAAAAAABAgAAAAAAAQAEAAMAFgAAAAAGAAABAgAxowAAAKQAAQAAAABAbwICALwAABYDAAAAnwADAqQBAQAAAABAbwMEALwBARYDAAAAnwEDAqQCBgAAAFBATQQBbgcAAABNAwS3CAAAAJ8CAgKkAwYAAABQQE0FAaEJAAAATQQFwgoAAACfAwIC/wQDAAAAAADABQsAEgAAABIAAgAwBQSMDAAAAMAFDQASAAAAEgACADAFBJgOAAAAwAUPABIAAAASAAIAMAUE5RAAAADABREAEgADADAFBPYSAAAAggQCABMDLgQAAABAAy8DMAMxAzIEAABQQAMzAzQDNQM2BgADCQYBAwsGAgMNBgQDLQQAAQIEAQABGAABAAAAAAABAAAAAAABAAAAAAAAAQAAAAAAAAEAAgAAAAAFAAAAAAQAAAAABAAAADkBAAAAAAV4Aj5Kvx/AyErGVN6Tza5tWMEsAxMD2hIDQNMhAuqPavHmOUlRMoRp

-- Decompiled by Krnl

local v_u_1 = game:GetService("Players")
local v2 = game:GetService("ReplicatedStorage")
local v_u_3 = require(v2.Drown.DrownConsts)
local v_u_4 = require(v2.Std.Raycast)
return {
	["setDrownPercent"] = function(p5, p6)
		-- upvalues: (copy) v_u_1, (copy) v_u_3
		local v7
		if p5 then
			v7 = p5.Parent == v_u_1
		else
			v7 = p5
		end
		assert(v7, "Invalid player")
		local v8 = type(p6) == "number"
		assert(v8, "Invalid value")
		p5:SetAttribute(v_u_3.DROWN_PERCENT_ATTR_NAME, p6)
	end,
	["getDrownPercent"] = function(p9)
		-- upvalues: (copy) v_u_1, (copy) v_u_3
		local v10
		if p9 then
			v10 = p9.Parent == v_u_1
		else
			v10 = p9
		end
		assert(v10, "Invalid player")
		return p9:GetAttribute(v_u_3.DROWN_PERCENT_ATTR_NAME)
	end,
	["getDrownPercentChangedSignal"] = function(p11)
		-- upvalues: (copy) v_u_1, (copy) v_u_3
		local v12
		if p11 then
			v12 = p11.Parent == v_u_1
		else
			v12 = p11
		end
		assert(v12, "Invalid player")
		return p11:GetAttributeChangedSignal(v_u_3.DROWN_PERCENT_ATTR_NAME)
	end,
	["getIsPlayerDrowning"] = function(p13)
		-- upvalues: (copy) v_u_4
		local v14 = p13.Character
		if not v14 then
			return false
		end
		if not v14:FindFirstChild("HumanoidRootPart") then
			return false
		end
		local v15 = v14:FindFirstChild("Head")
		if not v15 then
			return false
		end
		local v16 = Region3.new(v15.CFrame.Position - Vector3.new(2, 2, 2), v15.CFrame.Position + Vector3.new(2, 2, 2)):ExpandToGrid(4)
		debug.profilebegin("getIsPlayingDrowning ReadVoxels")
		local v_u_17 = workspace.Terrain:ReadVoxels(v16, 4)
		debug.profileend()
		local v_u_18 = v_u_17.Size
		if not (function()
			-- upvalues: (copy) v_u_18, (copy) v_u_17
			for v19 = 1, v_u_18.X do
				for v20 = 1, v_u_18.Y do
					for v21 = 1, v_u_18.Z do
						if v_u_17[v19][v20][v21] == Enum.Material.Water then
							return true
						end
					end
				end
			end
			return false
		end)() then
			return false
		end
		local v22 = RaycastParams.new()
		v22.IgnoreWater = false
		v22.FilterDescendantsInstances = { workspace.Terrain }
		v22.FilterType = Enum.RaycastFilterType.Include
		local v23 = v_u_4.collidable(v15.Position, Vector3.new(-0, -1, -0), 10, v22)
		return (not v23 or v23.Material ~= Enum.Material.Water) and true or false
	end
}
