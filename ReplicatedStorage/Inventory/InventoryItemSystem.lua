-- Saved by UniversalSynSaveInstance (Join to Copy Games) https://discord.gg/wx4ThpAsmw

-- Bytecode (Base64):
-- BgNBCEdldE93bmVyC2dldEVxdWlwcGVkA29iahdvbkludmVudG9yeUl0ZW1FcXVpcHBlZARGaXJlGW9uSW52ZW50b3J5SXRlbVVuZXF1aXBwZWQOaGFuZGxlRXF1aXBwZWQFX21haWQRZ2V0RXF1aXBwZWRTaWduYWwHQ29ubmVjdAhHaXZlVGFzawxQcm9taXNlT3duZXIHYW5kVGhlbgtHaXZlUHJvbWlzZRhoYW5kbGVJbnZlbnRvcnlJdGVtQWRkZWQaaGFuZGxlSW52ZW50b3J5SXRlbVJlbW92ZWQKdW5lcXVpcEFsbAt0b2dnbGVFcXVpcA9vbkF0dGVtcHRTZWxlY3QJZ2V0TG9ja2VkDVVzZXJJbnB1dFR5cGUERW51bQhLZXlib2FyZAdLZXlDb2RlCUJhY2tzcGFjZQ5nZXRFcXVpcHBlZEZvcgtMb2NhbFBsYXllcgZpcGFpcnMLQXR0ZW1wdERyb3ATR2V0Q2xhc3NBZGRlZFNpZ25hbBZHZXRDbGFzc1JlbW92aW5nU2lnbmFsBVN0YXJ0E2FkZFVuZXF1aXBDb25kaXRpb24KSW5wdXRCZWdhbgRpbml0EF9lcXVpcENvbmRpdGlvbnMFdGFibGUGaW5zZXJ0EWFkZEVxdWlwQ29uZGl0aW9uEl91bmVxdWlwQ29uZGl0aW9ucxRnZXRJbnZlbnRvcnlJdGVtc0ZvchJBdHRlbXB0U2V0RXF1aXBwZWQGZmlsdGVyBkdldEFsbAtnZXRDaGlsZHJlbiFnZXRJbnZlbnRvcnlJdGVtc09mSW52ZW50b3J5VmFsdWUHR2V0TmFtZQ1wbGF5ZXJIYXNJdGVtBGdhbWUQVXNlcklucHV0U2VydmljZQpHZXRTZXJ2aWNlB1BsYXllcnMRUmVwbGljYXRlZFN0b3JhZ2UHcmVxdWlyZQNTdGQGQmluZGVyC0JpbmRlclV0aWxzBlNpZ25hbApUYWJsZVV0aWxzE0ludmVudG9yeUl0ZW1CaW5kZXIGc2NyaXB0BlBhcmVudBJJbnZlbnRvcnlJdGVtVXRpbHMYSW52ZW50b3J5SXRlbU93bmVyQmluZGVyA25ldwAVBQAEAAAAJqkAAQD7AQAAvAEBwwAAAACfAQICKwEBAKkAAAD7AgEATQECDQEAAAD7AwAATQIDEwIAAACfAQICKwABAIIA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

-- Decompiled by Krnl

local v_u_1 = game:GetService("UserInputService")
local v_u_2 = game:GetService("Players")
local v3 = game:GetService("ReplicatedStorage")
local v_u_4 = require(v3.Std.Binder.BinderUtils)
local v5 = require(v3.Std.Signal)
local v_u_6 = require(v3.Std.TableUtils)
local v_u_7 = require(script.Parent.InventoryItemBinder)
local v_u_8 = require(script.Parent.InventoryItemUtils)
local v_u_9 = require(script.Parent.InventoryItemOwnerBinder)
local v_u_44 = {
	["onInventoryItemEquipped"] = v5.new(),
	["onInventoryItemUnequipped"] = v5.new(),
	["_equipConditions"] = {},
	["_unequipConditions"] = {},
	["init"] = function()
		-- upvalues: (copy) v_u_8, (copy) v_u_44, (copy) v_u_7, (copy) v_u_9, (copy) v_u_1, (copy) v_u_2
		local function v15(p_u_10)
			-- upvalues: (ref) v_u_8, (ref) v_u_44
			local v_u_11 = nil
			local function v14()
				-- upvalues: (copy) p_u_10, (ref) v_u_8, (ref) v_u_11, (ref) v_u_44
				local v12 = p_u_10:GetOwner() and true or false
				local v13 = v_u_8.getEquipped(p_u_10.obj)
				if v12 then
					if v13 == v_u_11 then
						return
					else
						v_u_11 = v13
						if v13 then
							v_u_44.onInventoryItemEquipped:Fire(p_u_10)
						else
							v_u_44.onInventoryItemUnequipped:Fire(p_u_10)
						end
					end
				else
					return
				end
			end
			v14()
			p_u_10._maid:GiveTask(v_u_8.getEquippedSignal(p_u_10.obj):Connect(v14))
			if not p_u_10:GetOwner() then
				p_u_10._maid:GivePromise(p_u_10:PromiseOwner():andThen(v14))
			end
		end
		v_u_7:GetClassAddedSignal():Connect(v15)
		local function v17(p16)
			-- upvalues: (ref) v_u_8, (ref) v_u_44
			if v_u_8.getEquipped(p16.obj) then
				v_u_44.onInventoryItemUnequipped:Fire(p16)
			end
		end
		v_u_7:GetClassRemovingSignal():Connect(v17)
		v_u_7:GetClassAddedSignal():Connect(function(p_u_18)
			-- upvalues: (ref) v_u_8, (ref) v_u_44
			p_u_18._maid:GiveTask(p_u_18.onAttemptSelect:Connect(function()
				-- upvalues: (ref) v_u_8, (copy) p_u_18, (ref) v_u_44
				local v19 = v_u_8.getEquipped(p_u_18.obj)
				if v_u_44.unequipAll() then
					if not v19 then
						v_u_44.toggleEquip(p_u_18)
					end
				end
			end))
		end)
		v_u_7:Start()
		v_u_9:Start()
		v_u_44.addUnequipCondition(function(p20)
			-- upvalues: (ref) v_u_8
			return not v_u_8.getLocked(p20.obj)
		end)
		v_u_1.InputBegan:Connect(function(p21, p22)
			-- upvalues: (ref) v_u_44, (ref) v_u_2
			if not p22 then
				if p21.UserInputType == Enum.UserInputType.Keyboard and p21.KeyCode == Enum.KeyCode.Backspace then
					local v23 = v_u_44.getEquippedFor(v_u_2.LocalPlayer)
					for _, v24 in ipairs(v23) do
						v24:AttemptDrop()
					end
				end
			end
		end)
	end,
	["addEquipCondition"] = function(p25)
		-- upvalues: (copy) v_u_44
		local v26 = v_u_44._equipConditions
		table.insert(v26, p25)
	end,
	["addUnequipCondition"] = function(p27)
		-- upvalues: (copy) v_u_44
		local v28 = v_u_44._unequipConditions
		table.insert(v28, p27)
	end,
	["unequipAll"] = function()
		-- upvalues: (copy) v_u_44, (copy) v_u_2, (copy) v_u_8
		local v29 = v_u_44.getInventoryItemsFor(v_u_2.LocalPlayer)
		for _, v30 in ipairs(v29) do
			if v_u_8.getEquipped(v30.obj) then
				for _, v31 in ipairs(v_u_44._unequipConditions) do
					if not v31(v30) then
						return false
					end
				end
				v30:AttemptSetEquipped(false)
			end
		end
		return true
	end,
	["toggleEquip"] = function(p32)
		-- upvalues: (copy) v_u_8, (copy) v_u_44
		if v_u_8.getEquipped(p32.obj) then
			for _, v33 in ipairs(v_u_44._unequipConditions) do
				if not v33(p32) then
					return
				end
			end
			p32:AttemptSetEquipped(false)
		else
			for _, v34 in ipairs(v_u_44._equipConditions) do
				if not v34(p32) then
					return
				end
			end
			p32:AttemptSetEquipped(true)
		end
		return true
	end,
	["getInventoryItemsFor"] = function(p_u_35)
		-- upvalues: (copy) v_u_6, (copy) v_u_7
		return v_u_6.filter(v_u_7:GetAll(), function(p36)
			-- upvalues: (copy) p_u_35
			return p36:GetOwner() == p_u_35
		end)
	end,
	["getInventoryItemsOfInventoryValue"] = function(p37)
		-- upvalues: (copy) v_u_4, (copy) v_u_7
		return v_u_4.getChildren(v_u_7, p37)
	end,
	["getEquipped"] = function()
		-- upvalues: (copy) v_u_6, (copy) v_u_7, (copy) v_u_8
		return v_u_6.filter(v_u_7:GetAll(), function(p38)
			-- upvalues: (ref) v_u_8
			return v_u_8.getEquipped(p38.obj)
		end)
	end,
	["getEquippedFor"] = function(p_u_39)
		-- upvalues: (copy) v_u_6, (copy) v_u_44
		return v_u_6.filter(v_u_44.getEquipped(), function(p40)
			-- upvalues: (copy) p_u_39
			return p40:GetOwner() == p_u_39
		end)
	end,
	["playerHasItem"] = function(p41, p42)
		-- upvalues: (copy) v_u_44
		for _, v43 in ipairs(v_u_44.getInventoryItemsFor(p41)) do
			if v43:GetName() == p42 then
				return true
			end
		end
		return false
	end
}
return v_u_44
