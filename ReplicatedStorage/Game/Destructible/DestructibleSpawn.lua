-- Saved by UniversalSynSaveInstance (Join to Copy Games) https://discord.gg/wx4ThpAsmw

-- Bytecode (Base64):
-- BgNdDHNldG1ldGF0YWJsZQRfb2JqBE5hbWUIX29iak5hbWUDbmV3BV9tYWlkBl9zZXR1cAxfb25IaXRTaWduYWwIR2l2ZVRhc2sOR2V0T25IaXRTaWduYWwKX2luc3RWYWx1ZQVWYWx1ZQdHZXRJbnN0ElBSRUZBQl9GT0xERVJfTkFNRQ5GaW5kRmlyc3RDaGlsZAlHZXRQcmVmYWILX3dhc1RvdWNoZWQSX2hhbmRsZUhpdFBvc2l0aW9uF19icm9hZGNhc3RDb2xsaWRlUmVtb3RlDU9uQ2xpZW50RXZlbnQHQ29ubmVjdAtfaGFuZGxlSW5zdBNJTlNUQU5DRV9WQUxVRV9OQU1FCEluc3RhbmNlC09iamVjdFZhbHVlBlBhcmVudBRvYnNlcnZlT25lQ2hpbGROYW1lZB1CUk9BRENBU1RfQ09MTElERV9SRU1PVEVfTkFNRQdDaGFuZ2VkBEZpcmULUHJpbWFyeVBhcnQIQW5jaG9yZWQIUG9zaXRpb24EVW5pdAxBc3NlbWJseU1hc3MWQXBwbHlJbXB1bHNlQXRQb3NpdGlvbgRQYXJ0DkNyYXNoUGFydGljbGVzDFRyYW5zcGFyZW5jeQpDYW5Db2xsaWRlBkNGcmFtZQZsb29rQXQEU2l6ZQl3b3Jrc3BhY2UNQ3Jhc2hQYXJ0aWNsZQhSZXNvdXJjZQVDbG9uZQRFbWl0B0FkZEl0ZW0LT2JqZWN0TG9jYWwGVm9sdW1lElJvbGxPZmZNYXhEaXN0YW5jZQ1QbGF5YmFja1NwZWVkBG1hdGgGcmFuZG9tBHRhc2sEd2FpdAtCcmVha0pvaW50cwhEVVJBVElPTgdEZXN0cm95DklzRGVzY2VuZGFudE9mCFZlaGljbGVzCkZpcmVTZXJ2ZXIFZGVidWcMcHJvZmlsZWJlZ2luHERlc3RydWN0aWJsZVNwYXduLmhhbmRsZUluc3QMQ2FuVXNlQnVkZ2V0AXAJTWFnbml0dWRlEE1BWF9ESVNUX1RPX0xPQUQJVXNlQnVkZ2V0CV9pbnN0TWFpZBRTZXRQcmltYXJ5UGFydENGcmFtZQdUb3VjaGVkD0FuY2VzdHJ5Q2hhbmdlZApwcm9maWxlZW5kBGdhbWUGRGVicmlzCkdldFNlcnZpY2URUmVwbGljYXRlZFN0b3JhZ2UNQ3VycmVudENh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

-- Decompiled by Krnl

local v_u_1 = game:GetService("Debris")
local v_u_2 = game:GetService("ReplicatedStorage")
local v_u_3 = workspace.CurrentCamera
local v_u_4 = require(v_u_2.Std.Audio)
local v_u_5 = require(v_u_2.Std.Maid)
local v_u_6 = require(v_u_2.Std.Signal)
local v7 = require(v_u_2.Std.RateLimiter)
local v_u_8 = require(v_u_2.Std.RxInstanceUtils)
local v_u_9 = require(script.Parent.DestructibleConsts)
local v_u_10 = Instance.new("Folder")
v_u_10.Parent = workspace
local v_u_11 = v7.new(50)
local v_u_12 = {}
v_u_12.__index = v_u_12
function v_u_12.new(p13)
	-- upvalues: (copy) v_u_12, (copy) v_u_5
	local v14 = {}
	local v15 = v_u_12
	setmetatable(v14, v15)
	v14._obj = p13
	v14._objName = p13.Name
	v14._maid = v_u_5.new()
	v14:_setup(p13, v14._maid)
	return v14
end
function v_u_12.GetOnHitSignal(p16)
	-- upvalues: (copy) v_u_6
	if not p16._onHitSignal then
		p16._onHitSignal = v_u_6.new()
		p16._maid:GiveTask(p16._onHitSignal)
	end
	return p16._onHitSignal
end
function v_u_12.GetInst(p17)
	return p17._instValue.Value
end
function v_u_12.GetPrefab(p18)
	-- upvalues: (copy) v_u_2, (copy) v_u_9
	return v_u_2:FindFirstChild(v_u_9.PREFAB_FOLDER_NAME):FindFirstChild(p18._objName)
end
function v_u_12._setup(p_u_19, p20, p21)
	-- upvalues: (copy) v_u_9, (copy) v_u_8
	local v22 = p20:FindFirstChild(v_u_9.INSTANCE_VALUE_NAME)
	if not v22 then
		v22 = Instance.new("ObjectValue")
		v22.Name = v_u_9.INSTANCE_VALUE_NAME
		v22.Value = nil
		v22.Parent = p20
	end
	p_u_19._instValue = v22
	p_u_19._wasTouched = false
	p21:GiveTask(v_u_8.observeOneChildNamed(p20, v_u_9.BROADCAST_COLLIDE_REMOTE_NAME, function(p23, p24)
		-- upvalues: (copy) p_u_19
		p_u_19._broadcastCollideRemote = p23
		p24:GiveTask(p23.OnClientEvent:Connect(function(p25)
			-- upvalues: (ref) p_u_19
			if not p_u_19._wasTouched then
				p_u_19:_handleHitPosition(p25)
			end
		end))
	end))
	p21:GiveTask(v22.Changed:Connect(function()
		-- upvalues: (copy) p_u_19
		p_u_19:_handleInst()
	end))
	p_u_19:_handleInst()
end
function v_u_12._handleHitPosition(p26, p27)
	-- upvalues: (copy) v_u_2, (copy) v_u_1, (copy) v_u_4, (copy) v_u_9
	local v28 = p26._instValue
	p26._wasTouched = true
	local v29 = v28.Value
	if v29 then
		if p26._onHitSignal then
			p26._onHitSignal:Fire()
		end
		local v30 = v29.PrimaryPart
		v30.Anchored = false
		local v31 = (p27 + v30.Position) * 0.5
		local v32 = (v30.Position - p27).Unit
		v30:ApplyImpulseAtPosition(v32 * v30.AssemblyMass * 30, v31)
		local v33 = Instance.new("Part")
		v33.Name = "CrashParticles"
		v33.Transparency = 1
		v33.Anchored = true
		v33.CanCollide = false
		v33.CFrame = CFrame.lookAt(v31, v31 + v32)
		v33.Size = Vector3.new(4, 1, 1)
		v33.Parent = workspace
		local v34 = v_u_2.Resource.CrashParticle:Clone()
		v34.Parent = v33
		v34:Emit(10)
		v_u_1:AddItem(v33, 5)
		v_u_4.ObjectLocal(v30, 7018764077, {
			["Volume"] = 0.15,
			["RollOffMaxDistance"] = 128,
			["PlaybackSpeed"] = math.random() * 0.1 + 0.95
		})
		task.wait()
		v29:BreakJoints()
		task.wait(v_u_9.DURATION)
		v29:Destroy()
	end
end
function v_u_12._handleInst(p_u_35)
	-- upvalues: (copy) v_u_11, (copy) v_u_3, (copy) v_u_9, (copy) v_u_5, (copy) v_u_2, (copy) v_u_10
	debug.profilebegin("DestructibleSpawn.handleInst")
	local v_u_36 = p_u_35._instValue
	local v37 = p_u_35._obj
	local v38 = p_u_35._maid
	local v39 = v_u_36.Value
	if v_u_11:CanUseBudget(1) then
		local v40 = (v_u_3.CFrame.p - v37.Value.p).Magnitude
		if v39 or v40 >= v_u_9.MAX_DIST_TO_LOAD then
			if v39 and v_u_9.MAX_DIST_TO_LOAD < v40 then
				v_u_11:UseBudget(1)
				v39:Destroy()
			end
		else
			v_u_11:UseBudget(1)
			local v41 = v_u_5.new()
			v38._instMaid = v41
			v41:GiveTask(function()
				-- upvalues: (copy) p_u_35
				p_u_35._wasTouched = false
			end)
			local v42 = v_u_2:FindFirstChild(v_u_9.PREFAB_FOLDER_NAME):FindFirstChild(v37.Name):Clone()
			v42:SetPrimaryPartCFrame(v37.Value)
			v42.Parent = v_u_10
			v_u_36.Value = v42
			v41:GiveTask(v42.PrimaryPart.Touched:Connect(function(p43)
				-- upvalues: (ref) v_u_10, (copy) p_u_35
				if p43:IsDescendantOf(v_u_10) then
					return
				elseif p43:IsDescendantOf(workspace:FindFirstChild("Vehicles")) then
					if not p_u_35._wasTouched then
						p_u_35._wasTouched = true
						local v44 = p43.Position
						p_u_35._broadcastCollideRemote:FireServer(v44)
						p_u_35:_handleHitPosition(v44)
					end
				else
					return
				end
			end))
			v41:GiveTask(v42.AncestryChanged:Connect(function(_, p45)
				-- upvalues: (copy) v_u_36
				if not p45 then
					v_u_36.Value = nil
				end
			end))
		end
		debug.profileend()
	end
end
v_u_12.Update = v_u_12._handleInst
function v_u_12.Destroy(p46)
	local v47 = p46._maid
	p46._maid = nil
	v47:Destroy()
	setmetatable(p46, nil)
end
return v_u_12
