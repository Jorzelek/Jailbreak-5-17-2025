-- Saved by UniversalSynSaveInstance (Join to Copy Games) https://discord.gg/wx4ThpAsmw

-- Bytecode (Base64):
-- BgNDDkVhc2VfSW5PdXRRdWFkA25ldxFQb3NpdGlvbkluZmx1ZW5jZRFSb3RhdGlvbkluZmx1ZW5jZRBtYWtlQ2FtU2hha2VJbnN0EUVOQUJMRURfQVRUUl9OQU1FDEdldEF0dHJpYnV0ZQZMaXN0ZW4FX21haWQLX2xpc3Rlbkxvb3ANdXBkYXRlRW5hYmxlZAxzZXRtZXRhdGFibGUMU2V0QXR0cmlidXRlEFJBRElVU19BVFRSX05BTUUTTUFHTklUVURFX0FUVFJfTkFNRRlHZXRBdHRyaWJ1dGVDaGFuZ2VkU2lnbmFsB0Nvbm5lY3QIR2l2ZVRhc2sLZ2V0Um9vdFBhcnQIUG9zaXRpb24JTWFnbml0dWRlC19jYW1VcGRhdGVyDFN0YXJ0VXBkYXRlcgVldmVyeQZDRnJhbWUFX3N0b3ARU2V0U2NhbGVNYWduaXR1ZGUEU3RvcAxTdGFydEZhZGVPdXQFZGVsYXkHYW5kVGhlbgR3YXJuBWNhdGNoBEVudW0OUmVuZGVyUHJpb3JpdHkGQ2FtZXJhBVZhbHVlC05leHRJbnRlZ2VyElByb3hpbWl0eUNhbVNoYWtlXwh0b3N0cmluZwtfcmVuZGVyTmFtZQVTdGFydAxTaGFrZVN1c3RhaW4JSGVhcnRiZWF0B0Rlc3Ryb3kEZ2FtZQdQbGF5ZXJzCkdldFNlcnZpY2ULTG9jYWxQbGF5ZXIJd29ya3NwYWNlDUN1cnJlbnRDYW1lcmEKUnVuU2VydmljZRFSZXBsaWNhdGVkU3RvcmFnZQdyZXF1aXJlA1N0ZARNYWlkC1BsYXllclV0aWxzBEdhbWUISW50ZXJ2YWwHUHJvbWlzZQlDYW1TaGFrZXITQ2FtZXJhU2hha2VJbnN0YW5jZRdQcm94aW1pdHlDYW1TaGFrZUNvbnN0cwZzY3JpcHQGUGFyZW50BlJhbmRvbQdfX2luZGV4AA0GAQAAAAANbwIAAGAABQACAAAAjAMCAAkCAwAJAQIAKwEFAIwEAgB4BQACCQMEBQkCAwD1AQECggECAAMCAAAAAAAA4D8CAAAAAAAA8L8CAAAAAAAAAEAAEQEBGAAAAAAAAAAAAAAAAAASAAAAAAUAAQAAAA/7AQAATQAB7wAAAACMAQIAjAIGAIwDAQCMBAEAnwAFAm8BAQAwAQByAgAAAG8BAwAw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

-- Decompiled by Krnl

local v_u_1 = game:GetService("Players").LocalPlayer
local v_u_2 = workspace.CurrentCamera
local v_u_3 = game:GetService("RunService")
local v4 = game:GetService("ReplicatedStorage")
local v_u_5 = require(v4.Std.Maid)
local v_u_6 = require(v4.Game.PlayerUtils)
local v_u_7 = require(v4.Std.Interval)
local v_u_8 = require(v4.Std.Promise)
local v_u_9 = require(v4.Game.CamShaker.CamShaker)
local v_u_10 = require(v4.Game.CamShaker.CameraShakeInstance)
local v_u_11 = require(script.Parent.ProximityCamShakeConsts)
local v_u_12 = Random.new()
local v_u_13 = {}
v_u_13.__index = v_u_13
function v_u_13.new(p_u_14)
	-- upvalues: (copy) v_u_13, (copy) v_u_5, (copy) v_u_11
	local v_u_15 = {}
	local v16 = v_u_13
	setmetatable(v_u_15, v16)
	v_u_15._maid = v_u_5.new()
	if not p_u_14:GetAttribute(v_u_11.ENABLED_ATTR_NAME) then
		p_u_14:SetAttribute(v_u_11.ENABLED_ATTR_NAME, false)
	end
	if not p_u_14:GetAttribute(v_u_11.RADIUS_ATTR_NAME) then
		p_u_14:SetAttribute(v_u_11.RADIUS_ATTR_NAME, 32)
	end
	if not p_u_14:GetAttribute(v_u_11.MAGNITUDE_ATTR_NAME) then
		p_u_14:SetAttribute(v_u_11.MAGNITUDE_ATTR_NAME, 1)
	end
	local function v17()
		-- upvalues: (copy) p_u_14, (ref) v_u_11, (copy) v_u_15
		if p_u_14:GetAttribute(v_u_11.ENABLED_ATTR_NAME) then
			v_u_15:Listen(p_u_14)
		else
			v_u_15._maid._listenLoop = nil
		end
	end
	v_u_15._maid:GiveTask(p_u_14:GetAttributeChangedSignal(v_u_11.ENABLED_ATTR_NAME):Connect(v17))
	if p_u_14:GetAttribute(v_u_11.ENABLED_ATTR_NAME) then
		v_u_15:Listen(p_u_14)
		return v_u_15
	else
		v_u_15._maid._listenLoop = nil
		return v_u_15
	end
end
function v_u_13.Listen(p_u_18, p_u_19)
	-- upvalues: (copy) v_u_7, (copy) v_u_6, (copy) v_u_1, (copy) v_u_11
	p_u_18._maid._listenLoop = v_u_7.every(0.5):Connect(function()
		-- upvalues: (ref) v_u_6, (ref) v_u_1, (copy) p_u_19, (ref) v_u_11, (copy) p_u_18
		local v20 = v_u_6.getRootPart(v_u_1)
		if v20 then
			if (v20.Position - p_u_19.Position).Magnitude / p_u_19:GetAttribute(v_u_11.RADIUS_ATTR_NAME) <= 1 and not p_u_18._maid._camUpdater then
				p_u_18:StartUpdater(p_u_19)
			end
		end
	end)
end
function v_u_13.StartUpdater(p_u_21, p_u_22)
	-- upvalues: (copy) v_u_9, (copy) v_u_2, (copy) v_u_12, (copy) v_u_10, (copy) v_u_3, (copy) v_u_11, (copy) v_u_8
	local v23 = Enum.RenderPriority.Camera.Value + 5
	local v_u_25 = v_u_9.new(v23, function(p24)
		-- upvalues: (ref) v_u_2
		v_u_2.CFrame = v_u_2.CFrame * p24
	end)
	local v26 = v_u_12:NextInteger(1, 1000000000)
	v_u_25._renderName = "ProximityCamShake_" .. tostring(v26)
	v_u_25:Start()
	local v27 = v_u_10.new(2, 6, 1, 1)
	v27.PositionInfluence = Vector3.new(0.25, 0.25, 0.25)
	v27.RotationInfluence = Vector3.new(1, 1, 1)
	local v_u_28 = v_u_25:ShakeSustain(v27)
	p_u_21._maid._camUpdater = v_u_3.Heartbeat:Connect(function()
		-- upvalues: (ref) v_u_2, (copy) p_u_22, (ref) v_u_11, (copy) p_u_21, (copy) v_u_28
		local v29 = (v_u_2.CFrame.Position - p_u_22.Position).Magnitude
		local v30 = p_u_22:GetAttribute(v_u_11.RADIUS_ATTR_NAME)
		local v31 = p_u_22:GetAttribute(v_u_11.ENABLED_ATTR_NAME)
		local v32 = v29 / v30
		if v32 > 1 or not v31 then
			p_u_21._maid._stop = nil
		else
			local v33 = 1 - v32
			v_u_28:SetScaleMagnitude((v33 < 0.5 and 2 * v33 * v33 or -1 - 2 * (v33 - 2) * v33) * p_u_22:GetAttribute(v_u_11.MAGNITUDE_ATTR_NAME))
		end
	end)
	function p_u_21._maid._stop()
		-- upvalues: (copy) v_u_28, (ref) v_u_8, (copy) v_u_25, (copy) p_u_21
		v_u_28:StartFadeOut(1)
		v_u_8.delay(1):andThen(function()
			-- upvalues: (ref) v_u_25
			v_u_25:Stop()
		end):catch(warn)
		if p_u_21._maid then
			p_u_21._maid._camUpdater = nil
		end
	end
end
function v_u_13.Destroy(p34)
	local v35 = p34._maid
	p34._maid = nil
	v35:Destroy()
end
return v_u_13
