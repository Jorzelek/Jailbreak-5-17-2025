-- Saved by UniversalSynSaveInstance (Join to Copy Games) https://discord.gg/wx4ThpAsmw

-- Bytecode (Base64):
-- BgNYEF9wbGF5RXhwbG9zaW9uRngMc2V0bWV0YXRhYmxlA25ldwVfbWFpZARtYWlkBF9vYmoDb2JqElRIUk9XTl9SRU1PVEVfTkFNRQxXYWl0Rm9yQ2hpbGQNX3Rocm93blJlbW90ZRFUSFJPV05fVkFMVUVfTkFNRQxfdGhyb3duVmFsdWUTRVhQTE9ERV9SRU1PVEVfTkFNRQ1PbkNsaWVudEV2ZW50B0Nvbm5lY3QIR2l2ZVRhc2sVQ1JFQVRPUl9JRF9WQUxVRV9OQU1FD19jcmVhdG9ySWRWYWx1ZQtQcmltYXJ5UGFydAhQb3NpdGlvbglNYWduaXR1ZGUMQkxBU1RfUkFESVVTBV9nZXRKBkNGcmFtZRNOYW1lRGlzcGxheURpc3RhbmNlB0Rlc3Ryb3kGVXBkYXRlDEZYX0JMVVJfU0laRQRTaXplCEZYX0NPTE9SBGxlcnAJVGludENvbG9yC2dldFJvb3RQYXJ0CUhlYXJ0YmVhdA9kaXN0YW5jZVJ1bnRpbWUETWFpZAtGWF9EVVJBVElPTgVkZWxheQthbmRUaGVuQ2FsbAtnZXRIdW1hbm9pZARFbnVtDlJlbmRlclByaW9yaXR5BkNhbWVyYQVWYWx1ZQVTdGFydAdQcmVzZXRzCUV4cGxvc2lvbgVTaGFrZQRTdG9wCEluc3RhbmNlCkJsdXJFZmZlY3QGUGFyZW50FUNvbG9yQ29ycmVjdGlvbkVmZmVjdAtPbkNvbXBsZXRlZAdhbmRUaGVuCkZpcmVTZXJ2ZXIJU2V0VGhyb3duCUdldFRocm93bhFHZXRQbGF5ZXJCeVVzZXJJZApHZXRDcmVhdG9yBmFzc2VydAhWZWxvY2l0eQtTZXRWZWxvY2l0eQtSb3RWZWxvY2l0eQ5TZXRSb3RWZWxvY2l0eQRnYW1lClJ1blNlcnZpY2UKR2V0U2VydmljZQhMaWdodGluZwdQbGF5ZXJzC0xvY2FsUGxheWVyCXdvcmtzcGFjZQ1DdXJyZW50Q2FtZXJhEVJlcGxpY2F0ZWRTdG9yYWdlB3JlcXVpcmULUGxheWVyVXRpbHMER2FtZQNTdGQEQW5pbQZNb2R1bGUJQ2FtU2hha2VyB1Byb21pc2USU21va2VHcmVuYWRlQ29uc3RzBnNjcmlwdAdfX2luZGV4DFNtb2tlR3JlbmFkZQtf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

-- Decompiled by Krnl

local v_u_1 = game:GetService("RunService")
local v_u_2 = game:GetService("Lighting")
local v_u_3 = game:GetService("Players")
local v_u_4 = v_u_3.LocalPlayer
local v_u_5 = workspace.CurrentCamera
local v6 = game:GetService("ReplicatedStorage")
local v_u_7 = require(v6.Game.PlayerUtils)
local v_u_8 = require(v6.Std.Maid)
local v_u_9 = require(v6.Module.Anim)
local v_u_10 = require(v6.Game.CamShaker.CamShaker)
local v_u_11 = require(v6.Std.Promise)
local v_u_12 = require(script.Parent.SmokeGrenadeConsts)
local v_u_13 = {}
v_u_13.__index = v_u_13
v_u_13.__ClassName = "SmokeGrenade"
function v_u_13.new(p14)
	-- upvalues: (copy) v_u_13, (copy) v_u_8, (copy) v_u_12
	local v_u_15 = {}
	local v16 = v_u_13
	setmetatable(v_u_15, v16)
	v_u_15._maid = v_u_8.new()
	v_u_15.maid = v_u_15._maid
	v_u_15._obj = p14
	v_u_15.obj = v_u_15._obj
	v_u_15._thrownRemote = p14:WaitForChild(v_u_12.THROWN_REMOTE_NAME)
	v_u_15._thrownValue = p14:WaitForChild(v_u_12.THROWN_VALUE_NAME)
	local v17 = p14:WaitForChild(v_u_12.EXPLODE_REMOTE_NAME)
	v_u_15._maid:GiveTask(v17.OnClientEvent:Connect(function()
		-- upvalues: (copy) v_u_15
		v_u_15:_playExplosionFx()
	end))
	v_u_15._creatorIdValue = p14:WaitForChild(v_u_12.CREATOR_ID_VALUE_NAME)
	return v_u_15
end
local v_u_18 = Color3.new(1, 1, 1)
function v_u_13._getJ(p19, p20)
	-- upvalues: (copy) v_u_12
	local v21 = (p19._obj.PrimaryPart.Position - p20).Magnitude / v_u_12.BLAST_RADIUS
	local v22 = v21 < 0.001 and 0 or v21
	return 1 - (v22 > 0.999 and 1 or v22)
end
function v_u_13._playExplosionFx(p_u_23)
	-- upvalues: (copy) v_u_12, (copy) v_u_8, (copy) v_u_11, (copy) v_u_7, (copy) v_u_4, (copy) v_u_10, (copy) v_u_5, (copy) v_u_2, (copy) v_u_18, (copy) v_u_9, (copy) v_u_1
	local v24 = v_u_12.FX_DURATION
	local v_u_25 = v_u_8.new()
	v_u_11.delay(v24):andThenCall(v_u_25.Destroy, v_u_25)
	local v_u_26 = v_u_7.getHumanoid(v_u_4)
	local v_u_27 = v_u_7.getRootPart(v_u_4)
	if (p_u_23._obj.PrimaryPart.Position - v_u_27.Position).Magnitude < v_u_12.BLAST_RADIUS then
		local v29 = v_u_10.new(Enum.RenderPriority.Camera.Value + 2, function(p28)
			-- upvalues: (ref) v_u_5
			v_u_5.CFrame = v_u_5.CFrame * p28
		end)
		v29:Start()
		v29:Shake(v_u_10.Presets.Explosion)
		v_u_11.delay(2):andThenCall(v29.Stop, v29)
		v_u_26.NameDisplayDistance = 0
		v_u_25:GiveTask(function()
			-- upvalues: (copy) v_u_26
			v_u_26.NameDisplayDistance = 100
		end)
	end
	local v_u_30 = Instance.new("BlurEffect")
	v_u_30.Size = 0
	v_u_30.Parent = v_u_2
	v_u_25:GiveTask(v_u_30)
	local v_u_31 = Instance.new("ColorCorrectionEffect")
	v_u_31.TintColor = v_u_18
	v_u_31.Parent = v_u_2
	v_u_25:GiveTask(v_u_31)
	local v_u_32 = v_u_9.new(0.1)
	v_u_32.OnCompleted:Connect(function()
		-- upvalues: (copy) v_u_32
		v_u_32:Destroy()
	end)
	v_u_25:GiveTask(v_u_32)
	v_u_32.Maid:GiveTask(v_u_1.Heartbeat:Connect(function()
		-- upvalues: (copy) v_u_32, (copy) p_u_23, (ref) v_u_27, (copy) v_u_30, (ref) v_u_12, (copy) v_u_31, (ref) v_u_18
		local v33 = v_u_32:Update()
		local v34 = p_u_23:_getJ(v_u_27.Position)
		v_u_30.Size = v33 * v34 * v_u_12.FX_BLUR_SIZE
		v_u_31.TintColor = v_u_18:lerp(v_u_12.FX_COLOR, v33 * v34)
	end))
	v_u_32.Maid:GiveTask(function()
		-- upvalues: (ref) v_u_25, (ref) v_u_1, (ref) v_u_27, (ref) v_u_7, (ref) v_u_4, (copy) p_u_23, (copy) v_u_30, (ref) v_u_12, (copy) v_u_31, (ref) v_u_18
		v_u_25.distanceRuntime = v_u_1.Heartbeat:Connect(function()
			-- upvalues: (ref) v_u_27, (ref) v_u_7, (ref) v_u_4, (ref) p_u_23, (ref) v_u_30, (ref) v_u_12, (ref) v_u_31, (ref) v_u_18
			v_u_27 = v_u_7.getRootPart(v_u_4)
			local v35 = p_u_23:_getJ(v_u_27.Position)
			v_u_30.Size = v35 * v_u_12.FX_BLUR_SIZE
			v_u_31.TintColor = v_u_18:lerp(v_u_12.FX_COLOR, v35)
		end)
	end)
	v_u_11.delay(v24 - 0.1 - 1):andThen(function()
		-- upvalues: (ref) v_u_25, (ref) v_u_9, (ref) v_u_1, (copy) p_u_23, (ref) v_u_27, (copy) v_u_30, (ref) v_u_12, (copy) v_u_31, (ref) v_u_18
		v_u_25.distanceRuntime = nil
		local v_u_36 = v_u_9.new(1)
		v_u_25:GiveTask(v_u_36)
		v_u_36.Maid:GiveTask(v_u_1.Heartbeat:Connect(function()
			-- upvalues: (copy) v_u_36, (ref) p_u_23, (ref) v_u_27, (ref) v_u_30, (ref) v_u_12, (ref) v_u_31, (ref) v_u_18
			local v37 = v_u_36:Update()
			local v38 = p_u_23:_getJ(v_u_27.Position)
			v_u_30.Size = (1 - v37) * v38 * v_u_12.FX_BLUR_SIZE
			v_u_31.TintColor = v_u_18:lerp(v_u_12.FX_COLOR, (1 - v37) * v38)
		end))
	end)
	v_u_11.delay(v24):andThen(function()
		-- upvalues: (ref) v_u_25
		v_u_25:Destroy()
		v_u_25 = nil
	end)
end
function v_u_13.SetThrown(p39)
	p39._thrownValue.Value = true
	p39._thrownRemote:FireServer()
end
function v_u_13.GetThrown(p40)
	return p40._thrownValue.Value
end
function v_u_13.GetCreator(p41)
	-- upvalues: (copy) v_u_3
	return v_u_3:GetPlayerByUserId(p41._creatorIdValue.Value)
end
function v_u_13.SetVelocity(p42, p43)
	local v44 = p43 ~= nil
	assert(v44)
	p42._obj.PrimaryPart.Velocity = p43
end
function v_u_13.SetRotVelocity(p45, p46)
	local v47 = p46 ~= nil
	assert(v47)
	p45._obj.PrimaryPart.RotVelocity = p46
end
function v_u_13.Destroy(p48)
	local v49 = p48._maid
	assert(v49)
	local v50 = p48._maid
	p48._maid = nil
	v50:Destroy()
	setmetatable(p48, nil)
end
return v_u_13
