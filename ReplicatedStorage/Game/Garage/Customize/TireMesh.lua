-- Saved by UniversalSynSaveInstance (Join to Copy Games) https://discord.gg/wx4ThpAsmw

-- Bytecode (Base64):
-- BgM6CFRpcmVNZXNoDkZpbmRGaXJzdENoaWxkB0Rlc3Ryb3kLUHJpbWFyeVBhcnQFcHJpbnQLR2V0RnVsbE5hbWULR2V0Q2hpbGRyZW4FZXJyb3I6VmVoaWNsZSB3aGVlbCBtb2RlbCBpcyBtaXNzaW5nIGBXaGVlbGAgcGFydCBhcyBQcmltYXJ5UGFydAZQYXJlbnQGRW5naW5lBkNGcmFtZQhQb3NpdGlvbhJQb2ludFRvT2JqZWN0U3BhY2UBWAVDbG9uZQRTaXplBE5hbWUIQW5jaG9yZWQKQ2FuQ29sbGlkZQhDYW5RdWVyeQhDYW5Ub3VjaAhNYXNzbGVzcw9Jbm5lcldoZWVsU2NhbGUISW5zdGFuY2UDbmV3DFZlY3RvcjNWYWx1ZQ1Jbm5lcldoZWVsUGN0B1ZlY3RvcjMFVmFsdWUGQW5nbGVzC0JvdW5kaW5nQm94CUJsYW5rV2VsZAJDMRB1cGRhdGVXaGVlbE1vZGVsBU1vZGVsB0NsYXNzaWMIUmVzb3VyY2UaQ291bGQgbm90IGZpbmQgdGlyZSBtZXNoOiAOR2V0RGVzY2VuZGFudHMDSXNBA3N1YgVXaGVlbAZXaGVlbHMLV2hlZWxNb2RlbHMLVGlyZVN0aWNrZXINR2V0SXRlbUJ5TmFtZQNSaW0EZ2FtZRFSZXBsaWNhdGVkU3RvcmFnZQpHZXRTZXJ2aWNlB3JlcXVpcmUDU3RkBUpvaW50BEdhbWUGR2FyYWdlCUN1c3RvbWl6ZQlTdG9yZURhdGEAAw4BBAAAAKMBbwMAALwBAAMBAAAAnwEDAg4BBAC8AgFQAgAAAJ8CAgHGAQAATQIAmwMAAAArAhAApAMFAAAAQEC8BACyBgAAAJ8EAgCfAwABpAMFAAAAQEC8BABoBwAAAJ8EAgCfAwABpAMJAAAAgEBvBAoAnwMCAcYDAABSBAIATQQEJAsAAABvBwwAvAUEAwEAAACfBQMCUgMFAEcDAgAAAACASAD2/8YFAABHBQ8AAAAAgE0HA4UNAAAATQkCOw4AAAC8BwfGDwAAAJ8HAwJNBgd5EAAAAIwH//+3BgIABwAAAKkFAAGpBQEA+wYAALwGBjoRAAAAnwYCAk0IAJsDAAAATQcILxIAAAAwBwYvEgAAAG8HAAAwBwa6EwAAAKkHAAAwBwZFFAAAAKkHAAAwBwbTFQAA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

-- Decompiled by Krnl

local v_u_1 = game:GetService("ReplicatedStorage")
local v_u_2 = require(v_u_1.Std.Joint)
local v_u_3 = require(v_u_1.Game.Garage.Customize.TireSticker)
local v_u_4 = require(v_u_1.Game.Garage.Customize.Rim)
local v_u_5 = require(v_u_1.Game.Garage.StoreData)
return function(p_u_6, p7, p8)
	-- upvalues: (copy) v_u_1, (copy) v_u_2, (copy) v_u_5, (copy) v_u_3, (copy) v_u_4
	local v_u_9 = p7.Model
	if not p_u_6 then
		p_u_6 = {
			["Name"] = "Classic"
		}
	end
	local v_u_10 = v_u_1.Resource.TireMesh:FindFirstChild(p_u_6.Name)
	if not v_u_10 then
		error("Could not find tire mesh: " .. p_u_6.Name)
	end
	local function v24(p11)
		-- upvalues: (copy) v_u_10, (ref) p_u_6, (copy) v_u_9, (ref) v_u_2
		local v12 = p11:FindFirstChild("TireMesh")
		if v12 then
			v12:Destroy()
		end
		local v13 = p11.PrimaryPart
		local v14
		if v13 then
			v14 = v13
		else
			print(p11:GetFullName())
			print(p11:GetChildren())
			error("Vehicle wheel model is missing `Wheel` part as PrimaryPart")
			v14 = v13
		end
		repeat
			v13 = v13.Parent
			local v15 = v13:FindFirstChild("Engine")
		until v15 ~= nil
		local v16 = nil
		if v16 == nil then
			v16 = v15.CFrame:PointToObjectSpace(v14.Position).X < -1
		end
		local v17 = v_u_10:Clone()
		v17.Size = p11.PrimaryPart.Size
		v17.Name = "TireMesh"
		v17.Anchored = false
		v17.CanCollide = false
		v17.CanQuery = false
		v17.CanTouch = false
		v17.Massless = true
		v17.Parent = p11
		local v18 = p11:FindFirstChild("InnerWheelScale")
		if not v18 then
			v18 = Instance.new("Vector3Value")
			v18.Name = "InnerWheelScale"
			v18.Parent = p11
		end
		local v19 = p_u_6.InnerWheelScale
		if not v19 then
			local v20 = p_u_6.InnerWheelPct or 0.7
			local v21 = p_u_6.InnerWheelPct or 0.7
			v19 = Vector3.new(1, v20, v21)
		end
		v18.Value = v19
		local v22 = CFrame.Angles(0, 0, 0)
		if not v16 then
			v22 = CFrame.Angles(0, 3.141592653589793, 0)
		end
		if v_u_9:FindFirstChild("BoundingBox").Anchored then
			v17.Anchored = true
			v17.CFrame = v14.CFrame * v22
		else
			local v23 = v_u_2.BlankWeld(v17, v14)
			v23.C1 = v22
			v23.Parent = v17
		end
	end
	for _, v25 in v_u_9:GetDescendants() do
		if v25:IsA("Model") and (v25.Name:sub(1, 5) == "Wheel" and (v25.Name ~= "Wheels" and v25.Name ~= "WheelModels")) then
			v24(v25)
		end
	end
	if p8 then
		if p8.TireSticker then
			v_u_3(v_u_5.GetItemByName("TireSticker", p8.TireSticker), p7)
		end
		if p8.Rim then
			v_u_4(v_u_5.GetItemByName("Rim", p8.Rim), p7, p8)
		end
	end
end
