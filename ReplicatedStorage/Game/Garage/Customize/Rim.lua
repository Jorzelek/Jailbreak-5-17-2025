-- Saved by UniversalSynSaveInstance (Join to Copy Games) https://discord.gg/wx4ThpAsmw

-- Bytecode (Base64):
-- BgNRC1ByaW1hcnlQYXJ0BXByaW50C0dldEZ1bGxOYW1lC0dldENoaWxkcmVuBWVycm9yOlZlaGljbGUgd2hlZWwgbW9kZWwgaXMgbWlzc2luZyBgV2hlZWxgIHBhcnQgYXMgUHJpbWFyeVBhcnQGUGFyZW50BkVuZ2luZQ5GaW5kRmlyc3RDaGlsZAZDRnJhbWUIUG9zaXRpb24SUG9pbnRUb09iamVjdFNwYWNlAVgNSW5uZXJXaGVlbFBjdAVWYWx1ZQdWZWN0b3IzA25ldw9Jbm5lcldoZWVsU2NhbGUETmFtZQhSZXNvdXJjZQRSaW1zBFNpemUiTm8gcmltIGV4aXN0cyB1bmRlciByZXF1ZXN0ZWQgbmFtZQVDbG9uZQNSaW0ITWFzc2xlc3MKQ2FuQ29sbGlkZQpPZmZzZXRYUGN0D09mZnNldFJhZGl1c1BjdARtYXRoA21heAFZAVoMVHJhbnNwYXJlbmN5DkdldERlc2NlbmRhbnRzCkF0dGFjaG1lbnQDSXNBD1BhcnRpY2xlRW1pdHRlcglLZXlwb2ludHMGaXBhaXJzFk51bWJlclNlcXVlbmNlS2V5cG9pbnQEVGltZQV0YWJsZQZpbnNlcnQOTnVtYmVyU2VxdWVuY2UGQW5nbGVzBUZsaXBZC0JvdW5kaW5nQm94CEFuY2hvcmVkCkN1c3RvbVdlbGQLZ2V0UmltQW5kQ2YHRGVzdHJveQVNb2RlbA1zZXRDaGFzc2lzUmltA3N1YgVXaGVlbAZXaGVlbHMHU2V0UmltcwdSaW1MZWZ0CFJpbVJpZ2h0EHNldE1vdG9yY3ljbGVSaW0LV2hlZWxNb2RlbHMEVHlwZQRNYWtlClNldFJpbXNSYXcFQmxhZGUKV2hlZWxDb2xvcgRnYW1lEVJlcGxpY2F0ZWRTdG9yYWdlCkdldFNlcnZpY2UHcmVxdWlyZQNTdGQFSm9pbnQGc2NyaXB0B0NoYXNzaXMKTW90b3JjeWNsZQlEdW5lQnVnZ3kIQmFja0xlZnQJQmFja1JpZ2h0CUZyb250TGVmdApGcm9udFJpZ2h0AAkoBAMAAA4GAAEFBAcHD4EIFakBAdACTQQBmwAAAAArBBAApAUCAAAAEEC8BgGyAwAAAJ8GAgCfBQABpAUCAAAAEEC8BgFoBAAAAJ8GAgCfBQABpAUGAAAAUEBv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

-- Decompiled by Krnl

local v_u_1 = game:GetService("ReplicatedStorage")
local v_u_2 = require(v_u_1.Std.Joint)
local v_u_3 = require(script.Parent.WheelColor)
local v4 = CFrame.new
local _ = CFrame.Angles
local v_u_5 = v4()
local _ = Vector3.new
local function v_u_42(p6, p7, p8, p9)
	-- upvalues: (copy) v_u_1, (copy) v_u_2, (copy) v_u_5
	local v10 = p7.PrimaryPart
	local v11
	if v10 then
		v11 = v10
	else
		print(p7:GetFullName())
		print(p7:GetChildren())
		error("Vehicle wheel model is missing `Wheel` part as PrimaryPart")
		v11 = v10
	end
	repeat
		v10 = v10.Parent
		local v12 = v10:FindFirstChild("Engine")
	until v12 ~= nil
	if p9 == nil then
		p9 = v12.CFrame:PointToObjectSpace(v11.Position).X < -1
	end
	local v13 = p7:FindFirstChild("InnerWheelPct") or p6:FindFirstChild("InnerWheelPct")
	local v14
	if v13 then
		local v15 = v13.Value
		local v16 = v13.Value
		v14 = Vector3.new(1, v15, v16)
	else
		v14 = Vector3.new(1, 1, 1)
	end
	local v17 = p7:FindFirstChild("InnerWheelScale") or p6:FindFirstChild("InnerWheelScale")
	if v17 then
		v14 = v17.Value
	end
	local v18 = p8.Name
	local v19 = v_u_1.Resource.Rims:FindFirstChild(v18)
	local v20 = v19.Size
	if not v19 then
		error("No rim exists under requested name")
	end
	local v21 = v19:Clone()
	v21.Name = "Rim"
	v21.Massless = true
	v21.CanCollide = false
	v21.Size = v11.Size
	local v22 = p8.OffsetXPct or 0
	local v23 = p8.OffsetRadiusPct or 0
	local v24 = v11.Size.X
	local v25 = v24 * v22
	local v26 = v24 + v25
	local v27 = math.max(v26, 0.01)
	local v28 = v11.Size.Y * 0.25 + v11.Size.Z * 0.25
	local _ = v21.Size.Y * 0.25 + v21.Size.Z * 0.25
	local v29 = v28 * (1 + v23)
	local v30 = v29 * 2
	local v31 = v29 * 2
	v21.Size = Vector3.new(v27, v30, v31) * v14
	if v14.X <= 0.02 or (v14.Y <= 0.02 or v14.Z <= 0.02) then
		v21.Transparency = 1
	end
	local v32 = v21.Size / v20
	for _, v33 in v21:GetDescendants() do
		if v33:IsA("Attachment") then
			v33.Position = v33.Position * v32
		elseif v33:IsA("ParticleEmitter") then
			local v34 = v33.Size.Keypoints
			local v35 = {}
			for _, v36 in ipairs(v34) do
				local v37 = NumberSequenceKeypoint.new(v36.Time, v36.Value * v21.Size.Y / v20.Y)
				table.insert(v35, v37)
			end
			v33.Size = NumberSequence.new(v35)
		end
	end
	local v38 = CFrame.new()
	if not p9 then
		v38 = v38 * CFrame.Angles(0, 3.141592653589793, 0)
	end
	local v39 = v38 * CFrame.new(v27 * 0.5 - v24 * 0.5 - v25 - 0.01, 0, 0) * CFrame.Angles(0, 3.141592653589793, 0)
	if p8.FlipY then
		v39 = v39 * CFrame.Angles(0, 3.141592653589793, 0)
	end
	local v40 = p6:FindFirstChild("BoundingBox")
	if not (v40 and v40.Anchored) then
		v21.Anchored = false
		v_u_2.CustomWeld(v21, v11, v_u_5, v39)
		return v21
	end
	v21.Anchored = true
	local v41 = v12.CFrame:PointToObjectSpace(v11.Position)
	v21.CFrame = v12.CFrame * CFrame.new(v41) * v39
	return v21
end
local v_u_43 = {
	["Chassis"] = {}
}
function v_u_43.Chassis.SetRims(p44, p45)
	-- upvalues: (copy) v_u_42
	for _, v46 in p44.Model:GetDescendants() do
		if v46:IsA("Model") and (v46.Name:sub(1, 5) == "Wheel" and v46.Name ~= "Wheels") then
			if v46 then
				local v47 = v46:FindFirstChild("Rim")
				if v47 then
					v47:Destroy()
				end
				v_u_42(p44.Model, v46, p45).Parent = v46
			end
		end
	end
end
v_u_43.Motorcycle = {}
local function v_u_55(p48, p49, p50)
	-- upvalues: (copy) v_u_42
	local v51 = p48:FindFirstChild("RimLeft")
	if v51 then
		v51:Destroy()
	end
	local v52 = p48:FindFirstChild("RimRight")
	if v52 then
		v52:Destroy()
	end
	local v53 = v_u_42(p49.Model, p48, p50, true)
	v53.Name = "RimLeft"
	v53.Parent = p48
	local v54 = v_u_42(p49.Model, p48, p50, false)
	v54.Name = "RimRight"
	v54.Parent = p48
end
function v_u_43.Motorcycle.SetRims(p56, p57)
	-- upvalues: (copy) v_u_55
	local _ = p57.Name
	for _, v58 in p56.Model.WheelModels:GetChildren() do
		if v58:IsA("Model") then
			v_u_55(v58, p56, p57)
		end
	end
end
v_u_43.DuneBuggy = {}
local v_u_59 = {
	["BackLeft"] = true,
	["BackRight"] = true,
	["FrontLeft"] = true,
	["FrontRight"] = true
}
function v_u_43.DuneBuggy.SetRims(p60, p61)
	-- upvalues: (copy) v_u_59, (copy) v_u_42
	for _, v62 in p60.Model.WheelModels:GetChildren() do
		if v_u_59[v62.Name] then
			if v62 then
				local v63 = v62:FindFirstChild("Rim")
				if v63 then
					v63:Destroy()
				end
				v_u_42(p60.Model, v62, p61).Parent = v62
			end
		end
	end
end
local function v_u_68(p64, p65, p66, p67)
	-- upvalues: (copy) v_u_43
	if v_u_43[p64] then
		v_u_43[p64].SetRims({
			["Type"] = p64,
			["Make"] = p65,
			["Model"] = p66
		}, p67)
	end
end
return function(p69, p70, p71)
	-- upvalues: (ref) v_u_68, (copy) v_u_3
	local v72 = p70.Type
	local v73 = p70.Make
	local v74 = p70.Model
	if p69 then
		v_u_68(v72, v73, v74, p69)
	else
		v_u_68(v72, v73, v74, {
			["Name"] = "Blade"
		})
	end
	if p71 then
		v_u_3(p71.WheelColor and ({
			["Name"] = p71.WheelColor
		} or nil) or nil, p70, p71)
	end
end
