-- Saved by UniversalSynSaveInstance (Join to Copy Games) https://discord.gg/wx4ThpAsmw

-- Bytecode (Base64):
-- BgMrBHRpY2sFRXZlbnQKRGlzY29ubmVjdAREb25lCUhlYXJ0YmVhdAxzZXRtZXRhdGFibGUHQ29ubmVjdANuZXcHRGVzdHJveQNSb3QHRmxpcHBlZAZDRnJhbWUGQW5nbGVzFFNldFByaW1hcnlQYXJ0Q0ZyYW1lBlRhZ2dlZARUeXBlC1RyYWNrU3dpdGNoBEluc3QGUGFyZW50BFJhaWwGSW52ZXJ0DkZpbmRGaXJzdENoaWxkDFRyYW5zcGFyZW5jeQRSb290C1ByaW1hcnlQYXJ0BU1vZGVsC09iamVjdExvY2FsBlVwZGF0ZQJlbQdTaWduYWxzD0luc3RBZGRlZFNpZ25hbA1VcGRhdGVkU2lnbmFsBEluaXQEZ2FtZRFSZXBsaWNhdGVkU3RvcmFnZQpHZXRTZXJ2aWNlB3JlcXVpcmUHTmV0U3luYwZNb2R1bGUDU3RkBUF1ZGlvClJ1blNlcnZpY2UHX19pbmRleAAHBgEDAAAAGKQBAQAAAABAnwEBAvsDAAAmAgEDjAMBAH0DDAACAAAAjAIBAPsEAQBNAwQ2AgAAALwDAxoDAAAAnwMCAfsDAQCpBAEAMAQDNQQAAAD7AwIAUgQCAFIFAACfAwMBggABAAUDAQQAAABAAwIDAwMEAA4FARgAAAABAAEAAAEBAAAAAAABAAAAAgAAAAEPAAAAAAgCAgAAABz/AwIAAAAAAPsEAACePQMDBAAAAKQCAQAAAABAnwIDAqQDAwAAACBAnwMBAtkEAAASAAMAEgACABIAAQD7BgEATQUG/QQAAABSBwQAvAUFxwUAAACfBQMCMAUCNgYAAACpBQAAMAUCNQcAAACCAgIACAMGBAAAAEADAQQAACBAAwUDBwMCAwQBAAsIARgAAAAAAAAAAAEAAAEAAAAKAAAAAAAAAAABAAABDAAAAAADAQAAAAAMTQEANgAAAAC8AQEaAQAAAJ8BAgHGAQAAMAEANgAAAACpAQEAMAEANQIAAACCAAEAAwMCAwMDBAAcCQEYAAAAAAABAAABAAABHQAAAAANAgMAAAAj+wQAAE0DBNUBAAAAkAIDAPsFAABNBAWYAgAAAA4EAgBvAwMAZQABAIwDAAD7BAAACQYDAPUIBAAJBwIIQwUGBzAFBNUBAAAA+wQBAPsIAgBNBwiFBQAAAKQIBwAAGFCAjAkAAIwKAAD7DAAATQsM1QEAAACfCAQCCQYHCLwEBGYIAAAAnwQDAYIAAQAJAgAAAAAAAAAAAwoDCwJQaesxxyjuvwIAAAAAAADwPwMMAw0EABhQgAMOAFIAARgAAAAAAQAAAAAAAAEAAAAAAAABAAAAAAAAAAAAAAAAAAAAAVMAAAAACwEDAAAAS00BABwAAAAAKwECAKkBAACCAQIATQEAEQEAAADwAQMAAgAAAKkBAACCAQIA+wEAAA4BCAD7AgAATQECNQMAAAArAQQA+wEAALwBAVAEAAAAnwECAU0BAIoFAAAATQQBJAYAAABNAwQkBgAAAE0CAyMHAAAAbwUIALwDAgMJAAAAnwMDAk0FAJgKAAAADgUCAIwEAABlAAEAjAQBAA4DAgD1BQsEKwUBAFIFBABSBAUAMAQC2QwAAABNBQEkBgAAAE0GBXQNAAAAMAYFmw4AAABNBwUkBgAAAE0GBzsPAAAATQcGdA0AAAD7CQEATQgJ7xAAAABvCREA2QoAABIAAAASAAUAEgAHAJ8IAwLeCAAA+wkCAE0ICdESAAAAUgkBAG8KEwCfCAMBggABABQDDwMQAxEDBAMJAxIDEwMUAxUDFgMLAgAAAAAAAPA/AxcDGAMZAxoDCAIAAAAAAADgPwMbAgAAQF3f4uRBAQM8HAEYAAAAAQACAAAAAQACAAAAAAABAAAAAwABAAAAAAABAAAAAQAAAAAAAQAAAAABAAIAAQAAAAEAAAABAAEAAAAAAAAAAAAHAAAAAAABPQAAAAAIAQMAAAAdTQEANgAAAABNAgDfAQAAAMYDAADZBAAAEgED/xICAAASAgEA+wcCAE0GB50CAAAATQUGIwMAAABSBwQAvAUFxwQAAACfBQMB+wcCAE0GB50CAAAATQUGsgUAAABSBwQAvAUFxwQAAACfBQMBwQMAAIIAAQAGAwIDHQMeAx8DBwMgAQQiIQEYAAAAABgBAAAAHwAAAAAAAAAAAQAAAAAAAAAANQAjAAAAAAcAAAECAC+jAAAApAABAAAAAEBvAgIAvAAAFgMAAACfAAMCpAEFAAAAQEBNAwBABwAAAE0CA1IGAAAAnwECAqQCBQAAAEBATQQAoQgAAABNAwTSCQAAAJ8CAgKkAwEAAAAAQG8FCgC8AwMWAwAAAJ8DAwL/BAMAAAAAADAEBG4LAAAAwAUMABIABAASAAMAMAUE7w0AAADABQ4AMAUEUA8AAADABRAAEgAEABIAAgASAAEA4gYSADAFBnMRAAAAggYCABMDIgQAAABAAyMDJAMlBAAAQEADJgMnAygDKQMqAysGAQMIBgIDCQYFAyEFAREDAQIFAQABGAACAAAAAAABAAAAAAAAAQAAAAAAAAEAAAAAAAMAAQABAAAAABEAAAYAAABwAQAAAQAAAAAGSbvMRG5DyAl7f6bQMXWzkvHynMx6/Eop7P6gk00eCHznwTfMauyO9g==

-- Decompiled by Krnl

local v1 = game:GetService("ReplicatedStorage")
local v_u_2 = require(v1.Module.NetSync)
local v_u_3 = require(v1.Std.Audio)
local v_u_4 = game:GetService("RunService")
local v_u_5 = {}
v_u_5.__index = v_u_5
function v_u_5.new(_, p_u_6)
	-- upvalues: (copy) v_u_5, (copy) v_u_4
	local v7 = v_u_5
	local v_u_8 = setmetatable({}, v7)
	local v_u_9 = tick()
	v_u_8.Event = v_u_4.Heartbeat:Connect(function(p10)
		-- upvalues: (copy) v_u_9, (copy) v_u_8, (copy) p_u_6
		local v11 = tick() - v_u_9
		if v11 >= 1 then
			v_u_8.Event:Disconnect()
			v_u_8.Done = true
			v11 = 1
		end
		p_u_6(v11, p10)
	end)
	v_u_8.Done = false
	return v_u_8
end
function v_u_5.Destroy(p12)
	p12.Event:Disconnect()
	p12.Event = nil
	p12.Done = true
end
return {
	["Init"] = function(p13)
		-- upvalues: (copy) v_u_5, (copy) v_u_3, (copy) v_u_2
		local _ = p13.Event
		local _ = p13.em
		local v_u_14 = nil
		local function v24(p_u_15)
			-- upvalues: (ref) v_u_14, (ref) v_u_5, (ref) v_u_3
			if not p_u_15.Tagged then
				return false
			end
			if p_u_15.Type ~= "TrackSwitch" then
				return false
			end
			if v_u_14 and not v_u_14.Done then
				v_u_14:Destroy()
			end
			local v16 = p_u_15.Inst
			local v17 = v16.Parent.Parent.Rail
			local v18 = v17:FindFirstChild("Invert")
			local v19 = p_u_15.Flipped and 0 or 1
			if v18 then
				v19 = 1 - v19 or v19
			end
			v17.Transparency = v19
			local v_u_20 = v16.Parent
			v_u_20.PrimaryPart = v_u_20.Root
			local v_u_21 = v_u_20.Parent.Model.Root
			v_u_14 = v_u_5.new(0.5, function(p22, _)
				-- upvalues: (copy) p_u_15, (copy) v_u_20, (copy) v_u_21
				local v23 = p_u_15.Rot or 0
				p_u_15.Rot = (p_u_15.Flipped and -0.9424777960769379 or 0) * p22 + v23 * (1 - p22)
				v_u_20:SetPrimaryPartCFrame(v_u_21.CFrame * CFrame.Angles(0, 0, p_u_15.Rot))
			end)
			v_u_3.ObjectLocal(v16, 2803301098)
		end
		v_u_2.Signals.InstAddedSignal:Connect(v24)
		v_u_2.Signals.UpdatedSignal:Connect(v24)
	end
}
