-- Saved by UniversalSynSaveInstance (Join to Copy Games) https://discord.gg/wx4ThpAsmw

-- Bytecode (Base64):
-- BgN5BEJhc2UEU2l6ZQFaB3JlcXVpcmUFTW9kZWwGTGVuZ3RoC0ludmVydEJvZ2V5B01ha2VDYXIMT25DYXJDcmVhdGVkBEZpcmUPQm9nZXlNb3RvckZyb250BmFzc2VydA5Cb2dleU1vdG9yQmFjaxBCb2dleU9mZnNldEZyb250D0JvZ2V5T2Zmc2V0QmFjawdNb3ZlQ2FyCkRlc3Ryb3lDYXIGTG9hZGVkC1BvcHVsYXRlQ2FyBENhcnMMQnVmZmVyTGVuZ3RoC1JlbmRlclRyYWluAklkDUdldFN5c3RlbUJ5SWQKR2V0Q2FyQnlJZARuZXh0CFN5c3RlbUlkBE5hbWUIUmVzb3VyY2UJVHJhaW5DYXJzBUNsb25lBnNjcmlwdA5GaW5kRmlyc3RDaGlsZAdEZWZhdWx0BlBhcmVudAR0YXNrBHdhaXQNUG9wdWxhdGVUcmFpbiRUaGlzIHRyYWluIGFscmVhZHkgZXhpc3RzIG9uIGNsaWVudC4FdGFibGUGaW5zZXJ0CGIyZDk4eGkxBHRpY2sBeAdoajNjYmVvA3N1YgdyZXZlcnNlAAR3aDFhBnpuY2g4NANhNTkKRmlyZVNlcnZlcgdOb3dTeW5jCkdldE5vd1N5bmMJU2VnbWVudElkDFNlZ21lbnRzQnlJZAZPZmZzZXQFU3BlZWQLU2VydmVyU3BlZWQTU2VydmVyRGlzdGFuY2VBaGVhZAVwcmludBdUcmFpbiBmb3JjZSByZXBsaWNhdGlvbg5SZXBsaWNhdGVUcmFpbghuZnlqc3huZAZyZW1vdmUCb3MFY2xvY2sOT25DYXJEZXN0cm95ZWQEd2Fybh5DYXIgaGFzIG5vIERlc3Ryb3lDYXIgZnVuY3Rpb24IdTZlM2xwaTgLQnJhbmNoSW5kZXgIczg4cjZyOTAOSXNEZXNjZW5kYW50T2YFZGVidWcMcHJvZmlsZWJlZ2luDFRyYWluIFVwZGF0ZQlDaGFyYWN0ZXIISHVtYW5vaWQIUm9vdFBhcnQISXNGbHlpbmcTUmF5SWdub3JlTm9uQ29sbGlkZQhQb3NpdGlvbgtPbkNhckV4aXRlZAlNYWduaXR1ZGUGQ0ZyYW1lDE9uQ2FyRW50ZXJlZApwcm9maWxlZW5kB0ludmVyc2UFRm9jdXMNVG9PYmplY3RTcGFjZQFwB1N0ZXBw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

-- Decompiled by Krnl

local v_u_1 = game:GetService("ReplicatedStorage")
local v_u_2 = require(v_u_1.Module.Time)
local v3 = require(v_u_1.Std.Signal)
local v_u_4 = require(v_u_1.Module.RayCast)
local v_u_5 = require(v_u_1.Game.JetPack.JetPack)
local v_u_6 = game:GetService("RunService")
local v_u_7 = game:GetService("Players").LocalPlayer
local v_u_8 = workspace.CurrentCamera
local v_u_9 = nil
local v_u_10 = nil
local v_u_11 = nil
local v_u_12 = {
	["OnCarCreated"] = v3.new(),
	["OnCarDestroyed"] = v3.new(),
	["OnCarEntered"] = v3.new(),
	["OnCarExited"] = v3.new()
}
local v13 = require(script.TrainSystemUtils)
local v_u_14 = v13.CalculateDistanceAhead
local v_u_15 = v13.MoveTrain
local function v_u_26(p16, p17, p18)
	-- upvalues: (ref) v_u_10, (copy) v_u_12
	local v19 = p18.Base
	local v20 = v19.Size.Z
	local v21 = require(p17)
	p16.Model = p18
	p16.Base = v19
	p16.Length = v20
	p16.InvertBogey = false
	v21.MakeCar(p16, v_u_10)
	v_u_12.OnCarCreated:Fire(p16)
	local v22 = p16.BogeyMotorFront
	assert(v22)
	local v23 = p16.BogeyMotorBack
	assert(v23)
	local v24 = p16.BogeyOffsetFront
	assert(v24)
	local v25 = p16.BogeyOffsetBack
	assert(v25)
	p16.MoveCar = v21.MoveCar
	p16.DestroyCar = v21.DestroyCar
	p16.Loaded = true
	return p16
end
local function v_u_32(p27, p28)
	local v29 = 0
	for v30 = #p27.Cars, 1, -1 do
		local v31 = p27.Cars[v30]
		if v31.Loaded then
			v31:MoveCar(p27, p28, v29)
			v29 = v29 + v31.Length + p27.BufferLength
		end
	end
end
local v_u_33 = {}
return {
	["Init"] = function(p34)
		-- upvalues: (ref) v_u_10, (ref) v_u_11, (ref) v_u_9, (copy) v_u_1, (copy) v_u_26, (copy) v_u_33, (copy) v_u_2, (copy) v_u_14, (copy) v_u_12, (copy) v_u_7, (copy) v_u_5, (copy) v_u_4, (copy) v_u_15, (copy) v_u_32, (copy) v_u_8, (copy) v_u_6
		local v35 = p34.Event
		local v36 = p34.em
		v_u_10 = v35
		v_u_11 = v36
		local v_u_37 = Instance.new("Folder")
		v_u_37.Name = "Trains"
		v_u_37.Parent = workspace
		v_u_9 = { v_u_37 }
		local function v_u_43(p38)
			-- upvalues: (ref) v_u_1, (copy) v_u_37, (ref) v_u_26
			for _, v39 in next, p38.Cars do
				v39.SystemId = p38.Id
				local v40 = v39.Name
				local v41 = v_u_1.Resource.TrainCars[v40]:Clone()
				local v42 = script:FindFirstChild(v40) or script.Default
				v41.Parent = v_u_37
				v_u_26(v39, v42, v41)
				task.wait()
			end
		end
		function v_u_11.b2d98xi1(p44)
			-- upvalues: (ref) v_u_33, (copy) v_u_43
			local v45 = p44.Id
			for v46 = 1, #v_u_33 do
				if v_u_33[v46].Id == v45 then
					v48 = v_u_33[v46]
					::l5::
					if v48 then
						assert("This train already exists on client.")
					else
						local v47 = v_u_33
						table.insert(v47, p44)
						v_u_43(p44)
					end
					return true
				end
			end
			local v48 = false
			goto l5
		end
		local v_u_49 = 0
		local function v_u_62(p50)
			-- upvalues: (ref) v_u_33, (ref) v_u_49, (ref) v_u_10, (ref) v_u_2, (ref) v_u_14
			local v51 = p50.SystemId
			for v52 = 1, #v_u_33 do
				if v_u_33[v52].Id == v51 then
					v61 = v_u_33[v52]
					::l5::
					if not v61 then
						local v53 = tick()
						if v53 - v_u_49 > 0.5 then
							v_u_49 = v53
							v_u_10:FireServer("x" .. ("hj3cbeo"):sub(5, 5):reverse():reverse():reverse() .. "" .. "" .. ("wh1a"):sub(3, 3):reverse():reverse():reverse() .. "" .. "" .. ("znch84"):sub(2, 3):reverse() .. "a59", p50.SystemId)
						end
						return false
					end
					local v54 = p50.NowSync
					local v55 = v_u_2.GetNowSync() - v54
					local v56 = p50.SegmentId
					assert(v56)
					local v57 = v61.SegmentsById
					assert(v57)
					local v58 = p50.SegmentId
					local v59 = p50.Offset + v55 * p50.Speed
					local v60 = v_u_14(v61, v61.SegmentId, v61.Offset, v58, p50.Offset)
					v61.ServerSpeed = p50.Speed
					if v60 then
						v61.ServerDistanceAhead = v60
					else
						print("Train force replication")
						v61.ServerDistanceAhead = nil
						v61.SegmentId = v58
						v61.Offset = v59
					end
					return true
				end
			end
			local v61 = false
			goto l5
		end
		function v_u_11.nfyjsxnd(p63)
			-- upvalues: (copy) v_u_62
			for _, v64 in next, p63 do
				v_u_62(v64)
			end
		end
		function v_u_11.u6e3lpi8(p65)
			-- upvalues: (ref) v_u_33, (ref) v_u_12
			for v66 = 1, #v_u_33 do
				local v67 = v_u_33[v66]
				if v67.Id == p65 then
					table.remove(v_u_33, v66)
					for _, v68 in next, v67.Cars do
						local v69 = os.clock()
						repeat
							task.wait()
						until v68.DestroyCar ~= nil or v69 + 5 < os.clock()
						if v68.DestroyCar then
							v_u_12.OnCarDestroyed:Fire(v68)
							v68:DestroyCar()
						else
							warn("Car has no DestroyCar function")
							print(v68)
						end
					end
					return true
				end
			end
			return false
		end
		function v_u_11.s88r6r90(p70, p71, p72)
			-- upvalues: (ref) v_u_33
			for v73 = 1, #v_u_33 do
				if v_u_33[v73].Id == p70 then
					v75 = v_u_33[v73]
					::l5::
					if not v75 then
						return false
					end
					local v74 = v75.SegmentsById[p71]
					assert(v74)
					v74.BranchIndex = p72
					return
				end
			end
			local v75 = false
			goto l5
		end
		local v_u_76 = nil
		local v_u_77 = tick()
		local function v96()
			-- upvalues: (ref) v_u_77, (ref) v_u_7, (ref) v_u_5, (ref) v_u_4, (copy) v_u_37, (ref) v_u_76, (ref) v_u_12, (ref) v_u_33, (ref) v_u_15, (ref) v_u_32, (ref) v_u_8
			local v78 = tick()
			local v79 = v78 - v_u_77
			v_u_77 = v78
			debug.profilebegin("Train Update")
			local v80 = nil
			local v81 = nil
			local v82 = nil
			local v83 = nil
			local v84 = v_u_7.Character
			if v84 then
				local v85 = v84:FindFirstChild("Humanoid")
				if v85 then
					v83 = v85.RootPart
					if v83 and not v_u_5.IsFlying() then
						v80 = v_u_4.RayIgnoreNonCollide(v83.Position, Vector3.new(0, -1, 0), 20, v84, nil, nil, function(p86)
							-- upvalues: (ref) v_u_37
							return p86:IsDescendantOf(v_u_37)
						end)
						if v80 and not v80:IsDescendantOf(v_u_37) then
							v80 = nil
						end
					end
				end
			end
			if not v80 then
				if v_u_76 then
					v_u_12.OnCarExited:Fire(v_u_76)
				end
				v_u_76 = nil
			end
			local v87 = 500
			for _, v88 in next, v_u_33 do
				for v89 = #v88.Cars, 1, -1 do
					local v90 = v88.Cars[v89]
					if v90.Loaded then
						local v91
						if v83 then
							local v92 = v90.Model.Base
							v91 = (v83.Position - v92.Position).Magnitude
							if v91 > v87 then
								v91 = v87
							end
						else
							v91 = v87
						end
						if v80 and v80:IsDescendantOf(v90.Model) then
							v81 = v90.Base
							v82 = v81.CFrame
							if v_u_76 then
								if v_u_76 ~= v90 then
									v_u_12.OnCarExited:Fire(v_u_76)
									v_u_12.OnCarEntered:Fire(v90)
								end
							else
								v_u_12.OnCarEntered:Fire(v90)
							end
							v_u_76 = v90
							v87 = v91
						else
							v87 = v91
						end
					end
				end
				local v93
				if v88.ServerDistanceAhead then
					v93 = v88.ServerSpeed + v88.ServerDistanceAhead
				elseif v88.ServerSpeed then
					v93 = v88.ServerSpeed
				else
					v93 = v88.Speed
				end
				v88.Speed = v88.Speed + (v93 - v88.Speed) * 0.1
				v_u_15(v88, v79)
				v_u_32(v88, v79)
			end
			debug.profileend()
			if v81 then
				local v94 = v81.CFrame * v82:Inverse()
				v83.CFrame = v94 * v83.CFrame
				local v95 = v_u_8.CFrame:ToObjectSpace(v_u_8.Focus)
				v_u_8.CFrame = v_u_8.CFrame * v95 * (v94 - v94.p) * v95:Inverse()
			end
		end
		v_u_6.Heartbeat:Connect(v96)
	end,
	["Signals"] = v_u_12,
	["GetSystemById"] = function(p97)
		-- upvalues: (copy) v_u_33
		for v98 = 1, #v_u_33 do
			if v_u_33[v98].Id == p97 then
				return v_u_33[v98]
			end
		end
		return false
	end,
	["GetCarById"] = function(p99, p100)
		for v101 = 1, #p99.Cars do
			if p99.Cars[v101].Id == p100 then
				return p99.Cars[v101]
			end
		end
		return false
	end,
	["MoveTrain"] = v_u_15
}
